<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEMU: femu/nvme-io.c 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEMU
   &#160;<span id="projectnumber">原版 master 7e238cc</span>
   </div>
   <div id="projectbrief">FEMU: Accurate, Scalable and Extensible NVMe SSD Emulator (FAST&#39;18)</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('nvme-io_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">nvme-io.c 文件参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>nvme处理io command相关操作  
<a href="#details">更多...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="nvme_8h_source.html">./nvme.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
nvme-io.c 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c__incl.png" border="0" usemap="#femu_2nvme-io_8c" alt=""/></div>
<map name="femu_2nvme-io_8c" id="femu_2nvme-io_8c">
<area shape="rect" title="nvme处理io command相关操作" alt="" coords="873,5,999,32"/>
<area shape="rect" href="nvme_8h.html" title="nvme相关数据声明" alt="" coords="897,80,975,107"/>
<area shape="rect" title=" " alt="" coords="5,155,120,181"/>
<area shape="rect" title=" " alt="" coords="145,155,247,181"/>
<area shape="rect" title=" " alt="" coords="272,155,379,181"/>
<area shape="rect" title=" " alt="" coords="403,155,514,181"/>
<area shape="rect" title=" " alt="" coords="539,155,651,181"/>
<area shape="rect" title=" " alt="" coords="675,155,779,181"/>
<area shape="rect" title=" " alt="" coords="803,155,933,181"/>
<area shape="rect" title=" " alt="" coords="957,155,1053,181"/>
<area shape="rect" title=" " alt="" coords="1078,155,1197,181"/>
<area shape="rect" href="dram_8h.html" title="DRAM后端相关声明" alt="" coords="1221,155,1347,181"/>
<area shape="rect" href="rte__ring_8h.html" title=" " alt="" coords="1372,155,1479,181"/>
<area shape="rect" href="pqueue_8h.html" title="Priority Queue function declarations" alt="" coords="1503,155,1609,181"/>
<area shape="rect" href="nand_8h.html" title=" " alt="" coords="1633,155,1735,181"/>
<area shape="rect" href="timing_8h.html" title=" " alt="" coords="1760,155,1928,181"/>
<area shape="rect" title=" " alt="" coords="1134,229,1205,256"/>
<area shape="rect" title=" " alt="" coords="1229,229,1296,256"/>
<area shape="rect" title=" " alt="" coords="1321,229,1421,256"/>
<area shape="rect" title=" " alt="" coords="1445,229,1513,256"/>
<area shape="rect" title=" " alt="" coords="1537,229,1639,256"/>
<area shape="rect" href="rte__atomic__x86_8h.html" title=" " alt="" coords="1663,229,1798,256"/>
<area shape="rect" href="rte__branch__prediction_8h.html" title=" " alt="" coords="1822,229,1997,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:ae6d2b4ae7957a876e1e221b7f2ee1fb8"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8">nvme_io_cmd</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="memdesc:ae6d2b4ae7957a876e1e221b7f2ee1fb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">nvme处理io类型的commad，识别cmd类型并调用相关函数  <a href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8">更多...</a><br /></td></tr>
<tr class="separator:ae6d2b4ae7957a876e1e221b7f2ee1fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8cac05ad399a3b98a28abe2c89b5509"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#aa8cac05ad399a3b98a28abe2c89b5509">nvme_update_sq_eventidx</a> (const <a class="el" href="structNvmeSQueue.html">NvmeSQueue</a> *sq)</td></tr>
<tr class="separator:aa8cac05ad399a3b98a28abe2c89b5509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9fdaa77f86c065d69d158184951be32"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#aa9fdaa77f86c065d69d158184951be32">nvme_copy_cmd</a> (<a class="el" href="structNvmeCmd.html">NvmeCmd</a> *dst, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *src)</td></tr>
<tr class="memdesc:aa9fdaa77f86c065d69d158184951be32"><td class="mdescLeft">&#160;</td><td class="mdescRight">从dram中取cmd  <a href="nvme-io_8c.html#aa9fdaa77f86c065d69d158184951be32">更多...</a><br /></td></tr>
<tr class="separator:aa9fdaa77f86c065d69d158184951be32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8fe64369c3e7b33785cabed5a4cbde"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde">nvme_process_sq_io</a> (void *opaque, int index_poller)</td></tr>
<tr class="memdesc:aaa8fe64369c3e7b33785cabed5a4cbde"><td class="mdescLeft">&#160;</td><td class="mdescRight">从sq中取出req，放入to_ftl队列中，交由ftl处理  <a href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde">更多...</a><br /></td></tr>
<tr class="separator:aaa8fe64369c3e7b33785cabed5a4cbde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa412c2f46a5bc43ac2234173c9743abe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#aa412c2f46a5bc43ac2234173c9743abe">nvme_post_cqe</a> (<a class="el" href="structNvmeCQueue.html">NvmeCQueue</a> *cq, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="memdesc:aa412c2f46a5bc43ac2234173c9743abe"><td class="mdescLeft">&#160;</td><td class="mdescRight">将req实际封装入cq  <a href="nvme-io_8c.html#aa412c2f46a5bc43ac2234173c9743abe">更多...</a><br /></td></tr>
<tr class="separator:aa412c2f46a5bc43ac2234173c9743abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a581e208522e056298eed5248b50af242"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242">nvme_process_cq_cpl</a> (void *arg, int index_poller)</td></tr>
<tr class="memdesc:a581e208522e056298eed5248b50af242"><td class="mdescLeft">&#160;</td><td class="mdescRight">从to_poller队列中取req，放入cq中，然后通知上层操作已完成  <a href="nvme-io_8c.html#a581e208522e056298eed5248b50af242">更多...</a><br /></td></tr>
<tr class="separator:a581e208522e056298eed5248b50af242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb7bf552fb77faee4d0aa021d51af4b7"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7">nvme_poller</a> (void *arg)</td></tr>
<tr class="memdesc:acb7bf552fb77faee4d0aa021d51af4b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">nvme poller线程函数，不断处理sq和生成cq  <a href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7">更多...</a><br /></td></tr>
<tr class="separator:acb7bf552fb77faee4d0aa021d51af4b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667ab7f8de6f02e513acd0c14c0407e9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a667ab7f8de6f02e513acd0c14c0407e9">cmp_pri</a> (<a class="el" href="pqueue_8h.html#ad8239ddc32134716f57e54bb972f6bf0">pqueue_pri_t</a> next, <a class="el" href="pqueue_8h.html#ad8239ddc32134716f57e54bb972f6bf0">pqueue_pri_t</a> curr)</td></tr>
<tr class="separator:a667ab7f8de6f02e513acd0c14c0407e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0ede8cb67c2a87a6af7ba60b878b86"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pqueue_8h.html#ad8239ddc32134716f57e54bb972f6bf0">pqueue_pri_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a4d0ede8cb67c2a87a6af7ba60b878b86">get_pri</a> (void *a)</td></tr>
<tr class="separator:a4d0ede8cb67c2a87a6af7ba60b878b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4201ce0351a86f139fa684f7b963f867"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a4201ce0351a86f139fa684f7b963f867">set_pri</a> (void *a, <a class="el" href="pqueue_8h.html#ad8239ddc32134716f57e54bb972f6bf0">pqueue_pri_t</a> pri)</td></tr>
<tr class="separator:a4201ce0351a86f139fa684f7b963f867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5cc5f1e45642543fa0bfe8db2dd428"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a2b5cc5f1e45642543fa0bfe8db2dd428">get_pos</a> (void *a)</td></tr>
<tr class="separator:a2b5cc5f1e45642543fa0bfe8db2dd428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3708eed16007bc4b715785d1ea06cd0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#af3708eed16007bc4b715785d1ea06cd0">set_pos</a> (void *a, size_t pos)</td></tr>
<tr class="separator:af3708eed16007bc4b715785d1ea06cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f7e8af7ddcdfe9bef6af6c0333462d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a81f7e8af7ddcdfe9bef6af6c0333462d">nvme_create_poller</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n)</td></tr>
<tr class="memdesc:a81f7e8af7ddcdfe9bef6af6c0333462d"><td class="mdescLeft">&#160;</td><td class="mdescRight">创建poller线程，以及两个ring queue：to_ftl和to_poller  <a href="nvme-io_8c.html#a81f7e8af7ddcdfe9bef6af6c0333462d">更多...</a><br /></td></tr>
<tr class="separator:a81f7e8af7ddcdfe9bef6af6c0333462d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57765d5f7b83e5c6af69f1f5c501beb7"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a57765d5f7b83e5c6af69f1f5c501beb7">nvme_rw</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="memdesc:a57765d5f7b83e5c6af69f1f5c501beb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">nvme读写命令  <a href="nvme-io_8c.html#a57765d5f7b83e5c6af69f1f5c501beb7">更多...</a><br /></td></tr>
<tr class="separator:a57765d5f7b83e5c6af69f1f5c501beb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f6c99fbfdd8d6c788ee82c6d13086d"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#ae1f6c99fbfdd8d6c788ee82c6d13086d">nvme_dsm</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="memdesc:ae1f6c99fbfdd8d6c788ee82c6d13086d"><td class="mdescLeft">&#160;</td><td class="mdescRight">处理io cmd：dataset management命令  <a href="nvme-io_8c.html#ae1f6c99fbfdd8d6c788ee82c6d13086d">更多...</a><br /></td></tr>
<tr class="separator:ae1f6c99fbfdd8d6c788ee82c6d13086d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea0938f847741b1399583080d7bd9ae"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a1ea0938f847741b1399583080d7bd9ae">nvme_compare</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="memdesc:a1ea0938f847741b1399583080d7bd9ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">处理io cmd：compare命令  <a href="nvme-io_8c.html#a1ea0938f847741b1399583080d7bd9ae">更多...</a><br /></td></tr>
<tr class="separator:a1ea0938f847741b1399583080d7bd9ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ecae506951d74f3dc9826f76e133d81"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a0ecae506951d74f3dc9826f76e133d81">nvme_flush</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="memdesc:a0ecae506951d74f3dc9826f76e133d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">处理io cmd：flush命令  <a href="nvme-io_8c.html#a0ecae506951d74f3dc9826f76e133d81">更多...</a><br /></td></tr>
<tr class="separator:a0ecae506951d74f3dc9826f76e133d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3fe0206159ec6d704c59e7393b6d85c"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#ae3fe0206159ec6d704c59e7393b6d85c">nvme_write_zeros</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="memdesc:ae3fe0206159ec6d704c59e7393b6d85c"><td class="mdescLeft">&#160;</td><td class="mdescRight">处理io cmd：write zeros命令  <a href="nvme-io_8c.html#ae3fe0206159ec6d704c59e7393b6d85c">更多...</a><br /></td></tr>
<tr class="separator:ae3fe0206159ec6d704c59e7393b6d85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a646ae4b9455eb7bf01b18eea275a2379"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a646ae4b9455eb7bf01b18eea275a2379">nvme_write_uncor</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="memdesc:a646ae4b9455eb7bf01b18eea275a2379"><td class="mdescLeft">&#160;</td><td class="mdescRight">处理io cmd：write uncorrectable命令  <a href="nvme-io_8c.html#a646ae4b9455eb7bf01b18eea275a2379">更多...</a><br /></td></tr>
<tr class="separator:a646ae4b9455eb7bf01b18eea275a2379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a3accd495e0b00d01b80e009af5c9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-io_8c.html#a03a3accd495e0b00d01b80e009af5c9f">nvme_post_cqes_io</a> (void *opaque)</td></tr>
<tr class="memdesc:a03a3accd495e0b00d01b80e009af5c9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">将剩余的req都填入cq  <a href="nvme-io_8c.html#a03a3accd495e0b00d01b80e009af5c9f">更多...</a><br /></td></tr>
<tr class="separator:a03a3accd495e0b00d01b80e009af5c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>nvme处理io command相关操作 </p>
</div><h2 class="groupheader">函数说明</h2>
<a id="a667ab7f8de6f02e513acd0c14c0407e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a667ab7f8de6f02e513acd0c14c0407e9">&#9670;&nbsp;</a></span>cmp_pri()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cmp_pri </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pqueue_8h.html#ad8239ddc32134716f57e54bb972f6bf0">pqueue_pri_t</a>&#160;</td>
          <td class="paramname"><em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pqueue_8h.html#ad8239ddc32134716f57e54bb972f6bf0">pqueue_pri_t</a>&#160;</td>
          <td class="paramname"><em>curr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a667ab7f8de6f02e513acd0c14c0407e9_icgraph.png" border="0" usemap="#nvme-io_8c_a667ab7f8de6f02e513acd0c14c0407e9_icgraph" alt=""/></div>
<map name="nvme-io_8c_a667ab7f8de6f02e513acd0c14c0407e9_icgraph" id="nvme-io_8c_a667ab7f8de6f02e513acd0c14c0407e9_icgraph">
<area shape="rect" title=" " alt="" coords="1275,5,1349,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a2b5cc5f1e45642543fa0bfe8db2dd428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5cc5f1e45642543fa0bfe8db2dd428">&#9670;&nbsp;</a></span>get_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t get_pos </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a2b5cc5f1e45642543fa0bfe8db2dd428_icgraph.png" border="0" usemap="#nvme-io_8c_a2b5cc5f1e45642543fa0bfe8db2dd428_icgraph" alt=""/></div>
<map name="nvme-io_8c_a2b5cc5f1e45642543fa0bfe8db2dd428_icgraph" id="nvme-io_8c_a2b5cc5f1e45642543fa0bfe8db2dd428_icgraph">
<area shape="rect" title=" " alt="" coords="1275,5,1348,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a4d0ede8cb67c2a87a6af7ba60b878b86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d0ede8cb67c2a87a6af7ba60b878b86">&#9670;&nbsp;</a></span>get_pri()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pqueue_8h.html#ad8239ddc32134716f57e54bb972f6bf0">pqueue_pri_t</a> get_pri </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a4d0ede8cb67c2a87a6af7ba60b878b86_icgraph.png" border="0" usemap="#nvme-io_8c_a4d0ede8cb67c2a87a6af7ba60b878b86_icgraph" alt=""/></div>
<map name="nvme-io_8c_a4d0ede8cb67c2a87a6af7ba60b878b86_icgraph" id="nvme-io_8c_a4d0ede8cb67c2a87a6af7ba60b878b86_icgraph">
<area shape="rect" title=" " alt="" coords="1275,5,1341,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a1ea0938f847741b1399583080d7bd9ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea0938f847741b1399583080d7bd9ae">&#9670;&nbsp;</a></span>nvme_compare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_compare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>处理io cmd：compare命令 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td></td></tr>
    <tr><td class="paramname">ns</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
    <tr><td class="paramname">req</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint16_t </dd></dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a1ea0938f847741b1399583080d7bd9ae_cgraph.png" border="0" usemap="#nvme-io_8c_a1ea0938f847741b1399583080d7bd9ae_cgraph" alt=""/></div>
<map name="nvme-io_8c_a1ea0938f847741b1399583080d7bd9ae_cgraph" id="nvme-io_8c_a1ea0938f847741b1399583080d7bd9ae_cgraph">
<area shape="rect" title="处理io cmd：compare命令" alt="" coords="5,31,128,57"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="387,5,517,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="196,31,319,57"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="176,81,339,108"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a1ea0938f847741b1399583080d7bd9ae_icgraph.png" border="0" usemap="#nvme-io_8c_a1ea0938f847741b1399583080d7bd9ae_icgraph" alt=""/></div>
<map name="nvme-io_8c_a1ea0938f847741b1399583080d7bd9ae_icgraph" id="nvme-io_8c_a1ea0938f847741b1399583080d7bd9ae_icgraph">
<area shape="rect" title="处理io cmd：compare命令" alt="" coords="1792,5,1915,32"/>
<area shape="rect" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="1631,5,1744,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="1425,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="aa9fdaa77f86c065d69d158184951be32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9fdaa77f86c065d69d158184951be32">&#9670;&nbsp;</a></span>nvme_copy_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nvme_copy_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从dram中取cmd </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst</td><td></td></tr>
    <tr><td class="paramname">src</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_aa9fdaa77f86c065d69d158184951be32_icgraph.png" border="0" usemap="#nvme-io_8c_aa9fdaa77f86c065d69d158184951be32_icgraph" alt=""/></div>
<map name="nvme-io_8c_aa9fdaa77f86c065d69d158184951be32_icgraph" id="nvme-io_8c_aa9fdaa77f86c065d69d158184951be32_icgraph">
<area shape="rect" title="从dram中取cmd" alt="" coords="1631,5,1763,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="1425,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a81f7e8af7ddcdfe9bef6af6c0333462d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f7e8af7ddcdfe9bef6af6c0333462d">&#9670;&nbsp;</a></span>nvme_create_poller()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nvme_create_poller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>创建poller线程，以及两个ring queue：to_ftl和to_poller </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a81f7e8af7ddcdfe9bef6af6c0333462d_cgraph.png" border="0" usemap="#nvme-io_8c_a81f7e8af7ddcdfe9bef6af6c0333462d_cgraph" alt=""/></div>
<map name="nvme-io_8c_a81f7e8af7ddcdfe9bef6af6c0333462d_cgraph" id="nvme-io_8c_a81f7e8af7ddcdfe9bef6af6c0333462d_cgraph">
<area shape="rect" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="5,271,156,297"/>
<area shape="rect" href="nvme-io_8c.html#a667ab7f8de6f02e513acd0c14c0407e9" title=" " alt="" coords="235,68,309,95"/>
<area shape="rect" href="rte__ring_8h.html#a6bc92444f7239ca27c5a89de99f5f4ac" title=" " alt="" coords="204,119,340,145"/>
<area shape="rect" href="nvme-io_8c.html#a2b5cc5f1e45642543fa0bfe8db2dd428" title=" " alt="" coords="235,169,309,196"/>
<area shape="rect" href="nvme-io_8c.html#a4d0ede8cb67c2a87a6af7ba60b878b86" title=" " alt="" coords="239,220,305,247"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="221,321,323,348"/>
<area shape="rect" href="pqueue_8h.html#a2c27c13ed1c988e9fc7b259e6820ca8c" title=" " alt="" coords="223,372,321,399"/>
<area shape="rect" href="rte__ring_8h.html#abf9a7cda8ef5a62ee0a286c11d45d1bf" title=" " alt="" coords="409,220,531,247"/>
<area shape="rect" href="nvme-io_8c.html#af3708eed16007bc4b715785d1ea06cd0" title=" " alt="" coords="236,423,308,449"/>
<area shape="rect" href="nvme-io_8c.html#a4201ce0351a86f139fa684f7b963f867" title=" " alt="" coords="239,473,305,500"/>
<area shape="rect" href="rte__ring_8c.html#a122812947c00f9ed3066232accf5fa5a" title=" " alt="" coords="410,81,530,108"/>
<area shape="rect" href="rte__ring_8h.html#a5a85fd1038be9376de166494057e6aa1" title=" " alt="" coords="868,95,999,121"/>
<area shape="rect" href="rte__ring_8c.html#ac29f8523d355c107377858bdeb468486" title=" " alt="" coords="615,56,782,83"/>
<area shape="rect" href="rte__ring_8c.html#a7a44f25853c926ac1b29562857244366" title=" " alt="" coords="649,5,749,32"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title="从to_poller队列中取req，放入cq中，然后通知上层操作已完成" alt="" coords="388,385,552,412"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="391,841,549,868"/>
<area shape="rect" href="nvme_8h.html#acd64982aef4cb1864b53952a92068c27" title=" " alt="" coords="665,613,732,640"/>
<area shape="rect" href="rte__ring_8h.html#a96ef17a77ac3deecdb8a1fb71b6bdf63" title=" " alt="" coords="633,208,764,235"/>
<area shape="rect" href="rte__ring_8h.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="623,309,774,336"/>
<area shape="rect" href="intr_8c.html#ac07d39a331aa32f4da4f27f31f1abc1c" title="中断通知上层取cq" alt="" coords="626,360,771,387"/>
<area shape="rect" href="nvme-io_8c.html#aa412c2f46a5bc43ac2234173c9743abe" title="将req实际封装入cq" alt="" coords="637,461,761,488"/>
<area shape="rect" href="pqueue_8h.html#addd8cdfbc8c47b8cdd7eb4c4560de7aa" title=" " alt="" coords="641,411,756,437"/>
<area shape="rect" href="pqueue_8h.html#a2919d3e817688b81da746d4123f51ba3" title=" " alt="" coords="644,512,753,539"/>
<area shape="rect" href="pqueue_8h.html#abec9363c7a9cc89190bf0925a4a1652c" title=" " alt="" coords="648,259,749,285"/>
<area shape="rect" href="pqueue_8h.html#ae0cf88c8360a5f08ada81feaaeb40505" title=" " alt="" coords="647,563,750,589"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="876,171,991,197"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="846,309,1021,336"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="1069,309,1241,336"/>
<area shape="rect" href="intr_8c.html#a1bcc1a1b3495a3ea33365a4afaf44b0a" title="传统的中断通知方式" alt="" coords="845,360,1021,387"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="866,667,1001,693"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title="地址不连续时取cmd地址" alt="" coords="871,547,996,573"/>
<area shape="rect" href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6" title=" " alt="" coords="866,461,1001,488"/>
<area shape="rect" href="pqueue_8c.html#a918fcd7df850b9a0c17111abc9c323b1" title=" " alt="" coords="889,411,978,437"/>
<area shape="rect" href="pqueue_8c.html#a69ad19c161ae75369d1a444c83f4600c" title=" " alt="" coords="871,259,996,285"/>
<area shape="rect" href="pqueue_8c.html#a3e99f0cb15bfac6eeee46df9c875073a" title=" " alt="" coords="1114,259,1197,285"/>
<area shape="rect" href="rte__ring_8h.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="623,1107,774,1133"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="1090,1005,1221,1032"/>
<area shape="rect" href="nvme-io_8c.html#aa9fdaa77f86c065d69d158184951be32" title="从dram中取cmd" alt="" coords="633,765,765,792"/>
<area shape="rect" href="nvme-util_8c.html#a0c728e2926a6efc38005202a2b224647" title=" " alt="" coords="625,867,772,893"/>
<area shape="rect" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="642,917,755,944"/>
<area shape="rect" href="nvme-util_8c.html#a4fdc790b9e67ae29e3ef256182ed345b" title=" " alt="" coords="633,715,764,741"/>
<area shape="rect" href="nvme-io_8c.html#aa8cac05ad399a3b98a28abe2c89b5509" title=" " alt="" coords="600,816,797,843"/>
<area shape="rect" href="nvme-util_8c.html#a21b2434a9d5f978d0b4cf9661820ca63" title=" " alt="" coords="853,1005,1014,1032"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="848,1107,1019,1133"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="1069,1107,1241,1133"/>
<area shape="rect" href="nvme-io_8c.html#a1ea0938f847741b1399583080d7bd9ae" title="处理io cmd：compare命令" alt="" coords="872,752,995,779"/>
<area shape="rect" href="nvme-io_8c.html#ae1f6c99fbfdd8d6c788ee82c6d13086d" title="处理io cmd：dataset management命令" alt="" coords="886,904,981,931"/>
<area shape="rect" href="nvme-io_8c.html#a0ecae506951d74f3dc9826f76e133d81" title="处理io cmd：flush命令" alt="" coords="885,955,982,981"/>
<area shape="rect" href="nvme-io_8c.html#a646ae4b9455eb7bf01b18eea275a2379" title="处理io cmd：write uncorrectable命令" alt="" coords="862,803,1005,829"/>
<area shape="rect" href="nvme-io_8c.html#ae3fe0206159ec6d704c59e7393b6d85c" title="处理io cmd：write zeros命令" alt="" coords="863,853,1004,880"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a81f7e8af7ddcdfe9bef6af6c0333462d_icgraph.png" border="0" usemap="#nvme-io_8c_a81f7e8af7ddcdfe9bef6af6c0333462d_icgraph" alt=""/></div>
<map name="nvme-io_8c_a81f7e8af7ddcdfe9bef6af6c0333462d_icgraph" id="nvme-io_8c_a81f7e8af7ddcdfe9bef6af6c0333462d_icgraph">
<area shape="rect" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="ae1f6c99fbfdd8d6c788ee82c6d13086d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1f6c99fbfdd8d6c788ee82c6d13086d">&#9670;&nbsp;</a></span>nvme_dsm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_dsm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>处理io cmd：dataset management命令 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td></td></tr>
    <tr><td class="paramname">ns</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
    <tr><td class="paramname">req</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint16_t </dd></dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_ae1f6c99fbfdd8d6c788ee82c6d13086d_cgraph.png" border="0" usemap="#nvme-io_8c_ae1f6c99fbfdd8d6c788ee82c6d13086d_cgraph" alt=""/></div>
<map name="nvme-io_8c_ae1f6c99fbfdd8d6c788ee82c6d13086d_cgraph" id="nvme-io_8c_ae1f6c99fbfdd8d6c788ee82c6d13086d_cgraph">
<area shape="rect" title="处理io cmd：dataset management命令" alt="" coords="5,31,100,57"/>
<area shape="rect" href="dma_8c.html#adef0f21bc237d992b4ae8b29258645a8" title=" " alt="" coords="170,5,289,32"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="148,56,311,83"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="359,5,481,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="529,5,660,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_ae1f6c99fbfdd8d6c788ee82c6d13086d_icgraph.png" border="0" usemap="#nvme-io_8c_ae1f6c99fbfdd8d6c788ee82c6d13086d_icgraph" alt=""/></div>
<map name="nvme-io_8c_ae1f6c99fbfdd8d6c788ee82c6d13086d_icgraph" id="nvme-io_8c_ae1f6c99fbfdd8d6c788ee82c6d13086d_icgraph">
<area shape="rect" title="处理io cmd：dataset management命令" alt="" coords="1792,5,1887,32"/>
<area shape="rect" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="1631,5,1744,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="1425,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a0ecae506951d74f3dc9826f76e133d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ecae506951d74f3dc9826f76e133d81">&#9670;&nbsp;</a></span>nvme_flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>处理io cmd：flush命令 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td></td></tr>
    <tr><td class="paramname">ns</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
    <tr><td class="paramname">req</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint16_t </dd></dl>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a0ecae506951d74f3dc9826f76e133d81_icgraph.png" border="0" usemap="#nvme-io_8c_a0ecae506951d74f3dc9826f76e133d81_icgraph" alt=""/></div>
<map name="nvme-io_8c_a0ecae506951d74f3dc9826f76e133d81_icgraph" id="nvme-io_8c_a0ecae506951d74f3dc9826f76e133d81_icgraph">
<area shape="rect" title="处理io cmd：flush命令" alt="" coords="1792,5,1889,32"/>
<area shape="rect" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="1631,5,1744,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="1425,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="ae6d2b4ae7957a876e1e221b7f2ee1fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d2b4ae7957a876e1e221b7f2ee1fb8">&#9670;&nbsp;</a></span>nvme_io_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_io_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>nvme处理io类型的commad，识别cmd类型并调用相关函数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
    <tr><td class="paramname">req</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint16_t </dd></dl>
<p>进入各模式femu（如blackbox）定义的io处理函数</p>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_ae6d2b4ae7957a876e1e221b7f2ee1fb8_cgraph.png" border="0" usemap="#nvme-io_8c_ae6d2b4ae7957a876e1e221b7f2ee1fb8_cgraph" alt=""/></div>
<map name="nvme-io_8c_ae6d2b4ae7957a876e1e221b7f2ee1fb8_cgraph" id="nvme-io_8c_ae6d2b4ae7957a876e1e221b7f2ee1fb8_cgraph">
<area shape="rect" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="5,132,119,159"/>
<area shape="rect" href="nvme-io_8c.html#a1ea0938f847741b1399583080d7bd9ae" title="处理io cmd：compare命令" alt="" coords="177,31,299,57"/>
<area shape="rect" href="nvme-io_8c.html#ae1f6c99fbfdd8d6c788ee82c6d13086d" title="处理io cmd：dataset management命令" alt="" coords="191,81,285,108"/>
<area shape="rect" href="nvme-io_8c.html#a0ecae506951d74f3dc9826f76e133d81" title="处理io cmd：flush命令" alt="" coords="189,233,287,260"/>
<area shape="rect" href="nvme-io_8c.html#a646ae4b9455eb7bf01b18eea275a2379" title="处理io cmd：write uncorrectable命令" alt="" coords="167,183,309,209"/>
<area shape="rect" href="nvme-io_8c.html#ae3fe0206159ec6d704c59e7393b6d85c" title="处理io cmd：write zeros命令" alt="" coords="167,132,309,159"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="739,5,869,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="568,31,691,57"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="357,132,520,159"/>
<area shape="rect" href="dma_8c.html#adef0f21bc237d992b4ae8b29258645a8" title=" " alt="" coords="379,81,498,108"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_ae6d2b4ae7957a876e1e221b7f2ee1fb8_icgraph.png" border="0" usemap="#nvme-io_8c_ae6d2b4ae7957a876e1e221b7f2ee1fb8_icgraph" alt=""/></div>
<map name="nvme-io_8c_ae6d2b4ae7957a876e1e221b7f2ee1fb8_icgraph" id="nvme-io_8c_ae6d2b4ae7957a876e1e221b7f2ee1fb8_icgraph">
<area shape="rect" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="1631,5,1744,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="1425,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="acb7bf552fb77faee4d0aa021d51af4b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb7bf552fb77faee4d0aa021d51af4b7">&#9670;&nbsp;</a></span>nvme_poller()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* nvme_poller </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>nvme poller线程函数，不断处理sq和生成cq </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>void* </dd></dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_acb7bf552fb77faee4d0aa021d51af4b7_cgraph.png" border="0" usemap="#nvme-io_8c_acb7bf552fb77faee4d0aa021d51af4b7_cgraph" alt=""/></div>
<map name="nvme-io_8c_acb7bf552fb77faee4d0aa021d51af4b7_cgraph" id="nvme-io_8c_acb7bf552fb77faee4d0aa021d51af4b7_cgraph">
<area shape="rect" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="5,664,108,691"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title="从to_poller队列中取req，放入cq中，然后通知上层操作已完成" alt="" coords="156,841,320,868"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="159,436,317,463"/>
<area shape="rect" href="nvme_8h.html#acd64982aef4cb1864b53952a92068c27" title=" " alt="" coords="433,765,500,792"/>
<area shape="rect" href="rte__ring_8h.html#a96ef17a77ac3deecdb8a1fb71b6bdf63" title=" " alt="" coords="401,816,532,843"/>
<area shape="rect" href="rte__ring_8h.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="391,715,542,741"/>
<area shape="rect" href="intr_8c.html#ac07d39a331aa32f4da4f27f31f1abc1c" title="中断通知上层取cq" alt="" coords="394,1069,539,1096"/>
<area shape="rect" href="nvme-io_8c.html#aa412c2f46a5bc43ac2234173c9743abe" title="将req实际封装入cq" alt="" coords="405,664,529,691"/>
<area shape="rect" href="pqueue_8h.html#addd8cdfbc8c47b8cdd7eb4c4560de7aa" title=" " alt="" coords="409,917,524,944"/>
<area shape="rect" href="pqueue_8h.html#a2919d3e817688b81da746d4123f51ba3" title=" " alt="" coords="412,867,521,893"/>
<area shape="rect" href="pqueue_8h.html#abec9363c7a9cc89190bf0925a4a1652c" title=" " alt="" coords="416,968,517,995"/>
<area shape="rect" href="pqueue_8h.html#ae0cf88c8360a5f08ada81feaaeb40505" title=" " alt="" coords="415,1019,518,1045"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="644,816,759,843"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="614,715,789,741"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="837,664,1009,691"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="1057,664,1264,691"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="1113,613,1208,640"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="1312,613,1475,640"/>
<area shape="rect" href="intr_8c.html#a1bcc1a1b3495a3ea33365a4afaf44b0a" title="传统的中断通知方式" alt="" coords="613,1069,789,1096"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="634,613,769,640"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title="地址不连续时取cmd地址" alt="" coords="639,563,764,589"/>
<area shape="rect" href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6" title=" " alt="" coords="634,664,769,691"/>
<area shape="rect" href="pqueue_8c.html#a918fcd7df850b9a0c17111abc9c323b1" title=" " alt="" coords="657,917,746,944"/>
<area shape="rect" href="pqueue_8c.html#a69ad19c161ae75369d1a444c83f4600c" title=" " alt="" coords="639,968,764,995"/>
<area shape="rect" href="pqueue_8c.html#a3e99f0cb15bfac6eeee46df9c875073a" title=" " alt="" coords="882,968,965,995"/>
<area shape="rect" href="rte__ring_8h.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="391,563,542,589"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="1328,145,1459,172"/>
<area shape="rect" href="nvme-io_8c.html#aa9fdaa77f86c065d69d158184951be32" title="从dram中取cmd" alt="" coords="401,411,533,437"/>
<area shape="rect" href="nvme-util_8c.html#a0c728e2926a6efc38005202a2b224647" title=" " alt="" coords="393,461,540,488"/>
<area shape="rect" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="410,132,523,159"/>
<area shape="rect" href="nvme-util_8c.html#a4fdc790b9e67ae29e3ef256182ed345b" title=" " alt="" coords="401,512,532,539"/>
<area shape="rect" href="nvme-io_8c.html#aa8cac05ad399a3b98a28abe2c89b5509" title=" " alt="" coords="368,613,565,640"/>
<area shape="rect" href="nvme-util_8c.html#a21b2434a9d5f978d0b4cf9661820ca63" title=" " alt="" coords="1080,221,1241,248"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="616,512,787,539"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="837,563,1009,589"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="1058,563,1263,589"/>
<area shape="rect" href="nvme-io_8c.html#a1ea0938f847741b1399583080d7bd9ae" title="处理io cmd：compare命令" alt="" coords="640,5,763,32"/>
<area shape="rect" href="nvme-io_8c.html#ae1f6c99fbfdd8d6c788ee82c6d13086d" title="处理io cmd：dataset management命令" alt="" coords="654,107,749,133"/>
<area shape="rect" href="nvme-io_8c.html#a0ecae506951d74f3dc9826f76e133d81" title="处理io cmd：flush命令" alt="" coords="653,56,750,83"/>
<area shape="rect" href="nvme-io_8c.html#a646ae4b9455eb7bf01b18eea275a2379" title="处理io cmd：write uncorrectable命令" alt="" coords="630,157,773,184"/>
<area shape="rect" href="nvme-io_8c.html#ae3fe0206159ec6d704c59e7393b6d85c" title="处理io cmd：write zeros命令" alt="" coords="631,208,772,235"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="1099,107,1222,133"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="842,157,1005,184"/>
<area shape="rect" href="dma_8c.html#adef0f21bc237d992b4ae8b29258645a8" title=" " alt="" coords="864,107,983,133"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_acb7bf552fb77faee4d0aa021d51af4b7_icgraph.png" border="0" usemap="#nvme-io_8c_acb7bf552fb77faee4d0aa021d51af4b7_icgraph" alt=""/></div>
<map name="nvme-io_8c_acb7bf552fb77faee4d0aa021d51af4b7_icgraph" id="nvme-io_8c_acb7bf552fb77faee4d0aa021d51af4b7_icgraph">
<area shape="rect" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="aa412c2f46a5bc43ac2234173c9743abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa412c2f46a5bc43ac2234173c9743abe">&#9670;&nbsp;</a></span>nvme_post_cqe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nvme_post_cqe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNvmeCQueue.html">NvmeCQueue</a> *&#160;</td>
          <td class="paramname"><em>cq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>将req实际封装入cq </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cq</td><td></td></tr>
    <tr><td class="paramname">req</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_aa412c2f46a5bc43ac2234173c9743abe_cgraph.png" border="0" usemap="#nvme-io_8c_aa412c2f46a5bc43ac2234173c9743abe_cgraph" alt=""/></div>
<map name="nvme-io_8c_aa412c2f46a5bc43ac2234173c9743abe_cgraph" id="nvme-io_8c_aa412c2f46a5bc43ac2234173c9743abe_cgraph">
<area shape="rect" title="将req实际封装入cq" alt="" coords="5,56,129,83"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="177,5,312,32"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title="地址不连续时取cmd地址" alt="" coords="182,56,307,83"/>
<area shape="rect" href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6" title=" " alt="" coords="177,107,312,133"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_aa412c2f46a5bc43ac2234173c9743abe_icgraph.png" border="0" usemap="#nvme-io_8c_aa412c2f46a5bc43ac2234173c9743abe_icgraph" alt=""/></div>
<map name="nvme-io_8c_aa412c2f46a5bc43ac2234173c9743abe_icgraph" id="nvme-io_8c_aa412c2f46a5bc43ac2234173c9743abe_icgraph">
<area shape="rect" title="将req实际封装入cq" alt="" coords="1637,31,1761,57"/>
<area shape="rect" href="nvme_8h.html#a03a3accd495e0b00d01b80e009af5c9f" title="将剩余的req都填入cq" alt="" coords="1432,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title="从to_poller队列中取req，放入cq中，然后通知上层操作已完成" alt="" coords="1425,56,1589,83"/>
<area shape="rect" href="nvme-admin_8c.html#a6f5c22b725b5eca5912f17066e95cf67" title=" " alt="" coords="1097,5,1205,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,31,809,57"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,31,619,57"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,31,384,57"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,31,149,57"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,56,1377,83"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,56,1227,83"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,56,1028,83"/>
</map>
</div>

</div>
</div>
<a id="a03a3accd495e0b00d01b80e009af5c9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03a3accd495e0b00d01b80e009af5c9f">&#9670;&nbsp;</a></span>nvme_post_cqes_io()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nvme_post_cqes_io </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>将剩余的req都填入cq </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">opaque</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a03a3accd495e0b00d01b80e009af5c9f_cgraph.png" border="0" usemap="#nvme-io_8c_a03a3accd495e0b00d01b80e009af5c9f_cgraph" alt=""/></div>
<map name="nvme-io_8c_a03a3accd495e0b00d01b80e009af5c9f_cgraph" id="nvme-io_8c_a03a3accd495e0b00d01b80e009af5c9f_cgraph">
<area shape="rect" title="将剩余的req都填入cq" alt="" coords="5,56,156,83"/>
<area shape="rect" href="nvme-util_8c.html#a4e852fdb44ac17526a5b317eb3e4dac7" title=" " alt="" coords="222,5,331,32"/>
<area shape="rect" href="intr_8c.html#ac07d39a331aa32f4da4f27f31f1abc1c" title="中断通知上层取cq" alt="" coords="204,56,349,83"/>
<area shape="rect" href="nvme-io_8c.html#aa412c2f46a5bc43ac2234173c9743abe" title="将req实际封装入cq" alt="" coords="215,132,339,159"/>
<area shape="rect" href="nvme-util_8c.html#a2c23400ec899cbc551757929a872089e" title=" " alt="" coords="399,5,571,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="621,5,752,32"/>
<area shape="rect" href="intr_8c.html#a1bcc1a1b3495a3ea33365a4afaf44b0a" title="传统的中断通知方式" alt="" coords="397,56,573,83"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="418,107,553,133"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title="地址不连续时取cmd地址" alt="" coords="423,157,548,184"/>
<area shape="rect" href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6" title=" " alt="" coords="418,208,553,235"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a03a3accd495e0b00d01b80e009af5c9f_icgraph.png" border="0" usemap="#nvme-io_8c_a03a3accd495e0b00d01b80e009af5c9f_icgraph" alt=""/></div>
<map name="nvme-io_8c_a03a3accd495e0b00d01b80e009af5c9f_icgraph" id="nvme-io_8c_a03a3accd495e0b00d01b80e009af5c9f_icgraph">
<area shape="rect" title="将剩余的req都填入cq" alt="" coords="1013,5,1164,32"/>
<area shape="rect" href="nvme-admin_8c.html#a6f5c22b725b5eca5912f17066e95cf67" title=" " alt="" coords="857,5,965,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a581e208522e056298eed5248b50af242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a581e208522e056298eed5248b50af242">&#9670;&nbsp;</a></span>nvme_process_cq_cpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nvme_process_cq_cpl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index_poller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从to_poller队列中取req，放入cq中，然后通知上层操作已完成 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td></td></tr>
    <tr><td class="paramname">index_poller</td><td>to_poller序号 </td></tr>
  </table>
  </dd>
</dl>
<p>从to_poller中取出req</p>
<p>暂存到pq</p>
<p>处理pq</p>
<p>加入cq中</p>
<p>req结构体重新放回队列</p>
<p>超时</p>
<p>通知</p>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a581e208522e056298eed5248b50af242_cgraph.png" border="0" usemap="#nvme-io_8c_a581e208522e056298eed5248b50af242_cgraph" alt=""/></div>
<map name="nvme-io_8c_a581e208522e056298eed5248b50af242_cgraph" id="nvme-io_8c_a581e208522e056298eed5248b50af242_cgraph">
<area shape="rect" title="从to_poller队列中取req，放入cq中，然后通知上层操作已完成" alt="" coords="5,208,169,235"/>
<area shape="rect" href="nvme_8h.html#acd64982aef4cb1864b53952a92068c27" title=" " alt="" coords="259,5,326,32"/>
<area shape="rect" href="rte__ring_8h.html#a96ef17a77ac3deecdb8a1fb71b6bdf63" title=" " alt="" coords="227,56,358,83"/>
<area shape="rect" href="rte__ring_8h.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="217,107,368,133"/>
<area shape="rect" href="intr_8c.html#ac07d39a331aa32f4da4f27f31f1abc1c" title="中断通知上层取cq" alt="" coords="220,157,365,184"/>
<area shape="rect" href="nvme-io_8c.html#aa412c2f46a5bc43ac2234173c9743abe" title="将req实际封装入cq" alt="" coords="231,208,355,235"/>
<area shape="rect" href="pqueue_8h.html#addd8cdfbc8c47b8cdd7eb4c4560de7aa" title=" " alt="" coords="235,259,350,285"/>
<area shape="rect" href="pqueue_8h.html#a2919d3e817688b81da746d4123f51ba3" title=" " alt="" coords="238,309,347,336"/>
<area shape="rect" href="pqueue_8h.html#abec9363c7a9cc89190bf0925a4a1652c" title=" " alt="" coords="242,360,343,387"/>
<area shape="rect" href="pqueue_8h.html#ae0cf88c8360a5f08ada81feaaeb40505" title=" " alt="" coords="241,411,344,437"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="447,31,561,57"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="417,81,591,108"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="640,81,812,108"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="860,56,1067,83"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="916,107,1011,133"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="1115,56,1277,83"/>
<area shape="rect" href="intr_8c.html#a1bcc1a1b3495a3ea33365a4afaf44b0a" title="传统的中断通知方式" alt="" coords="416,132,592,159"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="437,183,571,209"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title="地址不连续时取cmd地址" alt="" coords="441,233,567,260"/>
<area shape="rect" href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6" title=" " alt="" coords="437,284,571,311"/>
<area shape="rect" href="pqueue_8c.html#a918fcd7df850b9a0c17111abc9c323b1" title=" " alt="" coords="459,335,549,361"/>
<area shape="rect" href="pqueue_8c.html#a69ad19c161ae75369d1a444c83f4600c" title=" " alt="" coords="441,385,567,412"/>
<area shape="rect" href="pqueue_8c.html#a3e99f0cb15bfac6eeee46df9c875073a" title=" " alt="" coords="685,385,767,412"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a581e208522e056298eed5248b50af242_icgraph.png" border="0" usemap="#nvme-io_8c_a581e208522e056298eed5248b50af242_icgraph" alt=""/></div>
<map name="nvme-io_8c_a581e208522e056298eed5248b50af242_icgraph" id="nvme-io_8c_a581e208522e056298eed5248b50af242_icgraph">
<area shape="rect" title="从to_poller队列中取req，放入cq中，然后通知上层操作已完成" alt="" coords="1425,5,1589,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="aaa8fe64369c3e7b33785cabed5a4cbde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa8fe64369c3e7b33785cabed5a4cbde">&#9670;&nbsp;</a></span>nvme_process_sq_io()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nvme_process_sq_io </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index_poller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从sq中取出req，放入to_ftl队列中，交由ftl处理 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">opaque</td><td>sq队列 </td></tr>
    <tr><td class="paramname">index_poller</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>取cmd</p>
<p>sq头指针递增</p>
<p>取sq中req</p>
<p>（这时还是空req）</p>
<p>用取出的cmd生成新req</p>
<p>实际处理cmd</p>
<p>交给ftl（计算延迟）</p>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_aaa8fe64369c3e7b33785cabed5a4cbde_cgraph.png" border="0" usemap="#nvme-io_8c_aaa8fe64369c3e7b33785cabed5a4cbde_cgraph" alt=""/></div>
<map name="nvme-io_8c_aaa8fe64369c3e7b33785cabed5a4cbde_cgraph" id="nvme-io_8c_aaa8fe64369c3e7b33785cabed5a4cbde_cgraph">
<area shape="rect" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="5,259,163,285"/>
<area shape="rect" href="rte__ring_8h.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="234,56,385,83"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="1164,335,1295,361"/>
<area shape="rect" href="nvme-io_8c.html#aa9fdaa77f86c065d69d158184951be32" title="从dram中取cmd" alt="" coords="243,157,375,184"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title="地址不连续时取cmd地址" alt="" coords="247,208,372,235"/>
<area shape="rect" href="nvme-util_8c.html#a0c728e2926a6efc38005202a2b224647" title=" " alt="" coords="236,259,383,285"/>
<area shape="rect" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="253,309,366,336"/>
<area shape="rect" href="nvme-util_8c.html#a4fdc790b9e67ae29e3ef256182ed345b" title=" " alt="" coords="244,360,375,387"/>
<area shape="rect" href="nvme-io_8c.html#aa8cac05ad399a3b98a28abe2c89b5509" title=" " alt="" coords="211,411,408,437"/>
<area shape="rect" href="nvme-util_8c.html#a21b2434a9d5f978d0b4cf9661820ca63" title=" " alt="" coords="680,448,841,475"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="456,56,627,83"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="675,56,847,83"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="895,5,1100,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="950,56,1045,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="1148,5,1311,32"/>
<area shape="rect" href="nvme-io_8c.html#a1ea0938f847741b1399583080d7bd9ae" title="处理io cmd：compare命令" alt="" coords="480,360,603,387"/>
<area shape="rect" href="nvme-io_8c.html#ae1f6c99fbfdd8d6c788ee82c6d13086d" title="处理io cmd：dataset management命令" alt="" coords="494,157,589,184"/>
<area shape="rect" href="nvme-io_8c.html#a0ecae506951d74f3dc9826f76e133d81" title="处理io cmd：flush命令" alt="" coords="493,208,590,235"/>
<area shape="rect" href="nvme-io_8c.html#a646ae4b9455eb7bf01b18eea275a2379" title="处理io cmd：write uncorrectable命令" alt="" coords="470,259,613,285"/>
<area shape="rect" href="nvme-io_8c.html#ae3fe0206159ec6d704c59e7393b6d85c" title="处理io cmd：write zeros命令" alt="" coords="471,309,612,336"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="936,309,1059,336"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="679,259,842,285"/>
<area shape="rect" href="dma_8c.html#adef0f21bc237d992b4ae8b29258645a8" title=" " alt="" coords="701,183,820,209"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="474,411,609,437"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_aaa8fe64369c3e7b33785cabed5a4cbde_icgraph.png" border="0" usemap="#nvme-io_8c_aaa8fe64369c3e7b33785cabed5a4cbde_icgraph" alt=""/></div>
<map name="nvme-io_8c_aaa8fe64369c3e7b33785cabed5a4cbde_icgraph" id="nvme-io_8c_aaa8fe64369c3e7b33785cabed5a4cbde_icgraph">
<area shape="rect" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="1425,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a57765d5f7b83e5c6af69f1f5c501beb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57765d5f7b83e5c6af69f1f5c501beb7">&#9670;&nbsp;</a></span>nvme_rw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t nvme_rw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>nvme读写命令 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td></td></tr>
    <tr><td class="paramname">ns</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
    <tr><td class="paramname">req</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint16_t </dd></dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a57765d5f7b83e5c6af69f1f5c501beb7_cgraph.png" border="0" usemap="#nvme-io_8c_a57765d5f7b83e5c6af69f1f5c501beb7_cgraph" alt=""/></div>
<map name="nvme-io_8c_a57765d5f7b83e5c6af69f1f5c501beb7_cgraph" id="nvme-io_8c_a57765d5f7b83e5c6af69f1f5c501beb7_cgraph">
<area shape="rect" title="nvme读写命令" alt="" coords="5,81,88,108"/>
<area shape="rect" href="dram_8c.html#a1ccbcf0c92b7b084afc9890f3a7e5799" title=" " alt="" coords="185,5,283,32"/>
<area shape="rect" href="nvme-util_8c.html#a13db5864083eb3bdfb33cbb42f2a4350" title=" " alt="" coords="136,107,332,133"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="380,56,543,83"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="173,157,295,184"/>
<area shape="rect" href="nvme_8h.html#a459a9ad482387e92a5fa8fc4c108f3f6" title=" " alt="" coords="428,107,495,133"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="396,157,527,184"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a57765d5f7b83e5c6af69f1f5c501beb7_icgraph.png" border="0" usemap="#nvme-io_8c_a57765d5f7b83e5c6af69f1f5c501beb7_icgraph" alt=""/></div>
<map name="nvme-io_8c_a57765d5f7b83e5c6af69f1f5c501beb7_icgraph" id="nvme-io_8c_a57765d5f7b83e5c6af69f1f5c501beb7_icgraph">
<area shape="rect" title="nvme读写命令" alt="" coords="1077,31,1160,57"/>
<area shape="rect" href="bb_8c.html#a3b0eb3030af1311ad77c85da413a32d8" title="blackbox 读写命令" alt="" coords="924,5,1029,32"/>
<area shape="rect" href="nop_8c.html#a56ad5bb3626f3d51b93f720d91e65e69" title=" " alt="" coords="927,56,1027,83"/>
<area shape="rect" href="bb_8c.html#a86a2ad222c79ea1e3eb798c53f472908" title="blackbox io命令" alt="" coords="784,5,876,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title="注册blackbox相关函数" alt="" coords="575,5,736,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title="注册NOSSD/BBSSD/ZNSSD/OCSSD" alt="" coords="332,31,527,57"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title="femu初始化，分配空间" alt="" coords="177,31,284,57"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title="femu启动" alt="" coords="5,31,129,57"/>
<area shape="rect" href="nvme_8h.html#ad4130ad93f90bb1d6ba3bfd595214751" title=" " alt="" coords="575,56,736,83"/>
</map>
</div>

</div>
</div>
<a id="aa8cac05ad399a3b98a28abe2c89b5509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8cac05ad399a3b98a28abe2c89b5509">&#9670;&nbsp;</a></span>nvme_update_sq_eventidx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nvme_update_sq_eventidx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structNvmeSQueue.html">NvmeSQueue</a> *&#160;</td>
          <td class="paramname"><em>sq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_aa8cac05ad399a3b98a28abe2c89b5509_cgraph.png" border="0" usemap="#nvme-io_8c_aa8cac05ad399a3b98a28abe2c89b5509_cgraph" alt=""/></div>
<map name="nvme-io_8c_aa8cac05ad399a3b98a28abe2c89b5509_cgraph" id="nvme-io_8c_aa8cac05ad399a3b98a28abe2c89b5509_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,203,32"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="251,5,385,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_aa8cac05ad399a3b98a28abe2c89b5509_icgraph.png" border="0" usemap="#nvme-io_8c_aa8cac05ad399a3b98a28abe2c89b5509_icgraph" alt=""/></div>
<map name="nvme-io_8c_aa8cac05ad399a3b98a28abe2c89b5509_icgraph" id="nvme-io_8c_aa8cac05ad399a3b98a28abe2c89b5509_icgraph">
<area shape="rect" title=" " alt="" coords="1631,5,1828,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="1425,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a646ae4b9455eb7bf01b18eea275a2379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a646ae4b9455eb7bf01b18eea275a2379">&#9670;&nbsp;</a></span>nvme_write_uncor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_write_uncor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>处理io cmd：write uncorrectable命令 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td></td></tr>
    <tr><td class="paramname">ns</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
    <tr><td class="paramname">req</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint16_t </dd></dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a646ae4b9455eb7bf01b18eea275a2379_cgraph.png" border="0" usemap="#nvme-io_8c_a646ae4b9455eb7bf01b18eea275a2379_cgraph" alt=""/></div>
<map name="nvme-io_8c_a646ae4b9455eb7bf01b18eea275a2379_cgraph" id="nvme-io_8c_a646ae4b9455eb7bf01b18eea275a2379_cgraph">
<area shape="rect" title="处理io cmd：write uncorrectable命令" alt="" coords="5,5,148,32"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="196,5,359,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a646ae4b9455eb7bf01b18eea275a2379_icgraph.png" border="0" usemap="#nvme-io_8c_a646ae4b9455eb7bf01b18eea275a2379_icgraph" alt=""/></div>
<map name="nvme-io_8c_a646ae4b9455eb7bf01b18eea275a2379_icgraph" id="nvme-io_8c_a646ae4b9455eb7bf01b18eea275a2379_icgraph">
<area shape="rect" title="处理io cmd：write uncorrectable命令" alt="" coords="1792,5,1935,32"/>
<area shape="rect" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="1631,5,1744,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="1425,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="ae3fe0206159ec6d704c59e7393b6d85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3fe0206159ec6d704c59e7393b6d85c">&#9670;&nbsp;</a></span>nvme_write_zeros()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_write_zeros </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>处理io cmd：write zeros命令 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td></td></tr>
    <tr><td class="paramname">ns</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
    <tr><td class="paramname">req</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint16_t </dd></dl>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_ae3fe0206159ec6d704c59e7393b6d85c_cgraph.png" border="0" usemap="#nvme-io_8c_ae3fe0206159ec6d704c59e7393b6d85c_cgraph" alt=""/></div>
<map name="nvme-io_8c_ae3fe0206159ec6d704c59e7393b6d85c_cgraph" id="nvme-io_8c_ae3fe0206159ec6d704c59e7393b6d85c_cgraph">
<area shape="rect" title="处理io cmd：write zeros命令" alt="" coords="5,5,147,32"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="195,5,357,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_ae3fe0206159ec6d704c59e7393b6d85c_icgraph.png" border="0" usemap="#nvme-io_8c_ae3fe0206159ec6d704c59e7393b6d85c_icgraph" alt=""/></div>
<map name="nvme-io_8c_ae3fe0206159ec6d704c59e7393b6d85c_icgraph" id="nvme-io_8c_ae3fe0206159ec6d704c59e7393b6d85c_icgraph">
<area shape="rect" title="处理io cmd：write zeros命令" alt="" coords="1792,5,1933,32"/>
<area shape="rect" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8" title="nvme处理io类型的commad，识别cmd类型并调用相关函数" alt="" coords="1631,5,1744,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title="从sq中取出req，放入to_ftl队列中，交由ftl处理" alt="" coords="1425,5,1583,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title="nvme poller线程函数，不断处理sq和生成cq" alt="" coords="1275,5,1377,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="af3708eed16007bc4b715785d1ea06cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3708eed16007bc4b715785d1ea06cd0">&#9670;&nbsp;</a></span>set_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_pos </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_af3708eed16007bc4b715785d1ea06cd0_icgraph.png" border="0" usemap="#nvme-io_8c_af3708eed16007bc4b715785d1ea06cd0_icgraph" alt=""/></div>
<map name="nvme-io_8c_af3708eed16007bc4b715785d1ea06cd0_icgraph" id="nvme-io_8c_af3708eed16007bc4b715785d1ea06cd0_icgraph">
<area shape="rect" title=" " alt="" coords="1275,5,1347,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a4201ce0351a86f139fa684f7b963f867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4201ce0351a86f139fa684f7b963f867">&#9670;&nbsp;</a></span>set_pri()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_pri </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pqueue_8h.html#ad8239ddc32134716f57e54bb972f6bf0">pqueue_pri_t</a>&#160;</td>
          <td class="paramname"><em>pri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-io_8c_a4201ce0351a86f139fa684f7b963f867_icgraph.png" border="0" usemap="#nvme-io_8c_a4201ce0351a86f139fa684f7b963f867_icgraph" alt=""/></div>
<map name="nvme-io_8c_a4201ce0351a86f139fa684f7b963f867_icgraph" id="nvme-io_8c_a4201ce0351a86f139fa684f7b963f867_icgraph">
<area shape="rect" title=" " alt="" coords="1275,5,1341,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title="创建poller线程，以及两个ring queue：to_ftl和to_poller" alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title="识别、执行admin命令" alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title="处理admin命令的sq队列" alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a482d5bde24295b7334c8aec815f3a1a.html">femu</a></li><li class="navelem"><a class="el" href="nvme-io_8c.html">nvme-io.c</a></li>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
