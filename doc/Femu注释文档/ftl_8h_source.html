<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEMU: femu/bbssd/ftl.h 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEMU
   &#160;<span id="projectnumber">原版 master 7e238cc</span>
   </div>
   <div id="projectbrief">FEMU: Accurate, Scalable and Extensible NVMe SSD Emulator (FAST&#39;18)</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ftl_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ftl.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ftl_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef __FEMU_FTL_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define __FEMU_FTL_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;../nvme.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="ftl_8h.html#aa8aaea03bed1fe3e56f44807b9c6fa27">   12</a></span>&#160;<span class="preprocessor">#define INVALID_PPA     (~(0ULL))</span></div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="ftl_8h.html#a1ff9f42f3e3d46b878b713654eab99b7">   13</a></span>&#160;<span class="preprocessor">#define INVALID_LPN     (~(0ULL))</span></div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="ftl_8h.html#a4f586d4bebabb8dce738295d42a3671e">   14</a></span>&#160;<span class="preprocessor">#define UNMAPPED_PPA    (~(0ULL))</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba064c38a00639099031cda82711a5ac5d">   21</a></span>&#160;    <a class="code" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba064c38a00639099031cda82711a5ac5d">NAND_READ</a> =  0,</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba9eb21f1680871f4d099414752c40a2e4">   22</a></span>&#160;    <a class="code" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba9eb21f1680871f4d099414752c40a2e4">NAND_WRITE</a> = 1,</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba21101ced44d7c10f4be3536ccf778399">   23</a></span>&#160;    <a class="code" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba21101ced44d7c10f4be3536ccf778399">NAND_ERASE</a> = 2,</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba159b99876b55d2052590c66614f18e06">   25</a></span>&#160;    <a class="code" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba159b99876b55d2052590c66614f18e06">NAND_READ_LATENCY</a> = 40000,</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba473c2d5e1315210c6973d46d1a06d895">   26</a></span>&#160;    <a class="code" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba473c2d5e1315210c6973d46d1a06d895">NAND_PROG_LATENCY</a> = 200000,</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba961b37b2f319961303251f5ef3d2e93f">   27</a></span>&#160;    <a class="code" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba961b37b2f319961303251f5ef3d2e93f">NAND_ERASE_LATENCY</a> = 2000000,</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;};</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="ftl_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a2dbf63358e7e23749bc4332d41ec31af">   31</a></span>&#160;    <a class="code" href="ftl_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a2dbf63358e7e23749bc4332d41ec31af">USER_IO</a> = 0,</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="ftl_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a20ce8680df93c5e2acbf38a65350e122">   32</a></span>&#160;    <a class="code" href="ftl_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a20ce8680df93c5e2acbf38a65350e122">GC_IO</a> = 1,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;};</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a9c9278e0defed03ac007a9d18a097b10">   36</a></span>&#160;    <a class="code" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a9c9278e0defed03ac007a9d18a097b10">SEC_FREE</a> = 0,</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a18899c0fb9b80bff766201be472a92ef">   37</a></span>&#160;    <a class="code" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a18899c0fb9b80bff766201be472a92ef">SEC_INVALID</a> = 1,</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a0e097dee01398d3ab6e7f4382cabc33f">   38</a></span>&#160;    <a class="code" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a0e097dee01398d3ab6e7f4382cabc33f">SEC_VALID</a> = 2,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a0d5f318c3fc765bc802353b6cc599214">   40</a></span>&#160;    <a class="code" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a0d5f318c3fc765bc802353b6cc599214">PG_FREE</a> = 0,</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a46fea2e65406af489e63ac526c7553db">   41</a></span>&#160;    <a class="code" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a46fea2e65406af489e63ac526c7553db">PG_INVALID</a> = 1,</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5ae15fc2b67b2402b6f167ecccafbbecd2">   42</a></span>&#160;    <a class="code" href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5ae15fc2b67b2402b6f167ecccafbbecd2">PG_VALID</a> = 2</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;};</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a2bdc68ee27c5732068656308799b4c1f">   46</a></span>&#160;    <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a2bdc68ee27c5732068656308799b4c1f">FEMU_ENABLE_GC_DELAY</a> = 1,</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a4dc74fd4c46787b0858f51e424333548">   47</a></span>&#160;    <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a4dc74fd4c46787b0858f51e424333548">FEMU_DISABLE_GC_DELAY</a> = 2,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a32eeac57f9b0e5ae117a2c70623daa0f">   49</a></span>&#160;    <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a32eeac57f9b0e5ae117a2c70623daa0f">FEMU_ENABLE_DELAY_EMU</a> = 3,</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04adf250553fb54f027925e4dab5f92fa3a">   50</a></span>&#160;    <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04adf250553fb54f027925e4dab5f92fa3a">FEMU_DISABLE_DELAY_EMU</a> = 4,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a6b20efba3de792d95d952a331da4abcb">   52</a></span>&#160;    <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a6b20efba3de792d95d952a331da4abcb">FEMU_RESET_ACCT</a> = 5,</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a248ee6337f9fc0e6380d2407c6fde5f4">   53</a></span>&#160;    <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a248ee6337f9fc0e6380d2407c6fde5f4">FEMU_ENABLE_LOG</a> = 6,</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04afcb5b35957d832112aeb8250e90d8fcf">   54</a></span>&#160;    <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04afcb5b35957d832112aeb8250e90d8fcf">FEMU_DISABLE_LOG</a> = 7,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;};</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="ftl_8h.html#a248c1448579e0c4579d0b52313995552">   58</a></span>&#160;<span class="preprocessor">#define BLK_BITS    (16)</span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="ftl_8h.html#a7e7c99782de81b38fa1b30a3fd617e0a">   59</a></span>&#160;<span class="preprocessor">#define PG_BITS     (16)</span></div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="ftl_8h.html#abde6be2e893748e5be41abb9c047e242">   60</a></span>&#160;<span class="preprocessor">#define SEC_BITS    (8)</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="ftl_8h.html#a612770e7e6bcfee88de7ef1efea82381">   61</a></span>&#160;<span class="preprocessor">#define PL_BITS     (8)</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="ftl_8h.html#ab31967eedd3ea866167c7e23a5940c4e">   62</a></span>&#160;<span class="preprocessor">#define LUN_BITS    (8)</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="ftl_8h.html#a7ba0ef88759dc996af5fba61bc232cd9">   63</a></span>&#160;<span class="preprocessor">#define CH_BITS     (7)</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structppa.html">   69</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structppa.html">ppa</a> {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structppa.html#a627815618e543bfecc85c0270b2627f8">   72</a></span>&#160;            uint64_t <a class="code" href="structppa.html#a627815618e543bfecc85c0270b2627f8">blk</a> : <a class="code" href="ftl_8h.html#a248c1448579e0c4579d0b52313995552">BLK_BITS</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structppa.html#a7e41b431057d4d5f81e8b79e6ff732ac">   73</a></span>&#160;            uint64_t <a class="code" href="structppa.html#a7e41b431057d4d5f81e8b79e6ff732ac">pg</a>  : <a class="code" href="ftl_8h.html#a7e7c99782de81b38fa1b30a3fd617e0a">PG_BITS</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structppa.html#a2a6aa96bc52767ee0f609ae28a01a6f7">   74</a></span>&#160;            uint64_t <a class="code" href="structppa.html#a2a6aa96bc52767ee0f609ae28a01a6f7">sec</a> : <a class="code" href="ftl_8h.html#abde6be2e893748e5be41abb9c047e242">SEC_BITS</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structppa.html#a8a0a9d008a2c5a830b036bdc9c6d2764">   75</a></span>&#160;            uint64_t <a class="code" href="structppa.html#a8a0a9d008a2c5a830b036bdc9c6d2764">pl</a>  : <a class="code" href="ftl_8h.html#a612770e7e6bcfee88de7ef1efea82381">PL_BITS</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structppa.html#a9ca7013864c40d83a67ce2d8edf2350e">   76</a></span>&#160;            uint64_t <a class="code" href="structppa.html#a9ca7013864c40d83a67ce2d8edf2350e">lun</a> : <a class="code" href="ftl_8h.html#ab31967eedd3ea866167c7e23a5940c4e">LUN_BITS</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structppa.html#a2b5af16973594981a998ae3328eac8f7">   77</a></span>&#160;            uint64_t <a class="code" href="structppa.html#a2b5af16973594981a998ae3328eac8f7">ch</a>  : <a class="code" href="ftl_8h.html#a7ba0ef88759dc996af5fba61bc232cd9">CH_BITS</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structppa.html#a4e4391ce777dced78c6bb4ccddaee837">   78</a></span>&#160;            uint64_t <a class="code" href="structppa.html#a4e4391ce777dced78c6bb4ccddaee837">rsv</a> : 1;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        } <a class="code" href="structppa.html#a62bda76b2d5198e19ba1198df79c39f8">g</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structppa.html#a4dc2d1cdc8cce18cdf002f309395cba8">   81</a></span>&#160;        uint64_t <a class="code" href="structppa.html#a4dc2d1cdc8cce18cdf002f309395cba8">ppa</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    };</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;};</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="ftl_8h.html#af7812108ff2c661fde06cf328637f96c">   85</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="ftl_8h.html#af7812108ff2c661fde06cf328637f96c">nand_sec_status_t</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structnand__page.html">   91</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structnand__page.html">nand_page</a> {</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structnand__page.html#adc5fd9020df058246b2789b00f7f6609">   92</a></span>&#160;    <a class="code" href="ftl_8h.html#af7812108ff2c661fde06cf328637f96c">nand_sec_status_t</a> *<a class="code" href="structnand__page.html#adc5fd9020df058246b2789b00f7f6609">sec</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structnand__page.html#a07a35cddc22d7c84ced03c17b23ed244">   93</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__page.html#a07a35cddc22d7c84ced03c17b23ed244">nsecs</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structnand__page.html#ac238873d503e6fd6530f43b784019dfc">   94</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__page.html#ac238873d503e6fd6530f43b784019dfc">status</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;};</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structnand__block.html">  101</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structnand__block.html">nand_block</a> {</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structnand__block.html#a8670e24bc47c15366be8fe4c238a2922">  102</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structnand__page.html">nand_page</a> *<a class="code" href="structnand__block.html#a8670e24bc47c15366be8fe4c238a2922">pg</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structnand__block.html#afd82eb2e8b19ec2dd70b0bfa3e602776">  103</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__block.html#afd82eb2e8b19ec2dd70b0bfa3e602776">npgs</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structnand__block.html#a0c979863e9e1648cbf3a129bcd92820b">  104</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__block.html#a0c979863e9e1648cbf3a129bcd92820b">ipc</a>; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structnand__block.html#a89ec2fe3aff210edec30210b24dd2039">  105</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__block.html#a89ec2fe3aff210edec30210b24dd2039">vpc</a>; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structnand__block.html#a8629bef6da40ace33902c884d6b0127c">  106</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__block.html#a8629bef6da40ace33902c884d6b0127c">erase_cnt</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structnand__block.html#a424007f74aa840dea80296224af39d8d">  107</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__block.html#a424007f74aa840dea80296224af39d8d">wp</a>; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;};</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structnand__plane.html">  114</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structnand__plane.html">nand_plane</a> {</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structnand__plane.html#a178c78d74aad32ee73f5101bbe5d3af0">  115</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structnand__block.html">nand_block</a> *<a class="code" href="structnand__plane.html#a178c78d74aad32ee73f5101bbe5d3af0">blk</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structnand__plane.html#a69781959f7bed3aca9a31a7d2560866a">  116</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__plane.html#a69781959f7bed3aca9a31a7d2560866a">nblks</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;};</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structnand__lun.html">  123</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structnand__lun.html">nand_lun</a> {</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structnand__lun.html#ae64d00bf7f1ed056065e1a6c91898473">  124</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structnand__plane.html">nand_plane</a> *<a class="code" href="structnand__lun.html#ae64d00bf7f1ed056065e1a6c91898473">pl</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structnand__lun.html#a8f95b70bcd5720c7b081af37dbd3fc70">  125</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__lun.html#a8f95b70bcd5720c7b081af37dbd3fc70">npls</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structnand__lun.html#acdcba71a2176a0bb94eba9bdb24b36fe">  126</a></span>&#160;    uint64_t <a class="code" href="structnand__lun.html#acdcba71a2176a0bb94eba9bdb24b36fe">next_lun_avail_time</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="structnand__lun.html#acf81a9df9b43a75795a3f16b6dc52038">  127</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structnand__lun.html#acf81a9df9b43a75795a3f16b6dc52038">busy</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structnand__lun.html#a68ecfcc73af2f1103b2612aab0db8c2d">  128</a></span>&#160;    uint64_t <a class="code" href="structnand__lun.html#a68ecfcc73af2f1103b2612aab0db8c2d">gc_endtime</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;};</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structssd__channel.html">  135</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structssd__channel.html">ssd_channel</a> {</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structssd__channel.html#a43f4b195efe270acfb3ba6fa229ecf1b">  136</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structnand__lun.html">nand_lun</a> *<a class="code" href="structssd__channel.html#a43f4b195efe270acfb3ba6fa229ecf1b">lun</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structssd__channel.html#a8004398246e9bc2a7e48a71d1b58d90f">  137</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssd__channel.html#a8004398246e9bc2a7e48a71d1b58d90f">nluns</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="structssd__channel.html#a11dd1bcafa099c1d41787aeac9730aea">  138</a></span>&#160;    uint64_t <a class="code" href="structssd__channel.html#a11dd1bcafa099c1d41787aeac9730aea">next_ch_avail_time</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structssd__channel.html#ad3796afe284a6e0a1980e4f1c0ab291d">  139</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structssd__channel.html#ad3796afe284a6e0a1980e4f1c0ab291d">busy</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structssd__channel.html#ae7490bb5b3c27acb4fd5c73fe4348979">  140</a></span>&#160;    uint64_t <a class="code" href="structssd__channel.html#ae7490bb5b3c27acb4fd5c73fe4348979">gc_endtime</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;};</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structssdparams.html">  147</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structssdparams.html">ssdparams</a> {</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structssdparams.html#a0eb0310790389b75f28a5b6dc272a2dc">  148</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a0eb0310790389b75f28a5b6dc272a2dc">secsz</a>;        </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structssdparams.html#a93143586362c365e97e39c4b544807ca">  149</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a93143586362c365e97e39c4b544807ca">secs_per_pg</a>;  </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structssdparams.html#ac2e75971628c7789c5b492a304a56053">  150</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#ac2e75971628c7789c5b492a304a56053">pgs_per_blk</a>;  </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structssdparams.html#aaafec0385f6c9c34b05be63526644c5a">  151</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#aaafec0385f6c9c34b05be63526644c5a">blks_per_pl</a>;  </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structssdparams.html#a102161652bd1f9143443bb42c583005d">  152</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a102161652bd1f9143443bb42c583005d">pls_per_lun</a>;  </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structssdparams.html#ad339ca6a9e013ff5d28d408f7e2ad705">  153</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#ad339ca6a9e013ff5d28d408f7e2ad705">luns_per_ch</a>;  </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="structssdparams.html#a17a649068b0acfe64a1afc67b51236fb">  154</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a17a649068b0acfe64a1afc67b51236fb">nchs</a>;         </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structssdparams.html#ab8b7f48bd8cae23a4da6dcc8ceeb05ab">  156</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#ab8b7f48bd8cae23a4da6dcc8ceeb05ab">pg_rd_lat</a>;    </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="structssdparams.html#a584a92a1768fad79586d746562db0ced">  157</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a584a92a1768fad79586d746562db0ced">pg_wr_lat</a>;    </div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structssdparams.html#a6865de86ba20967f6ef156beeca0d62a">  158</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a6865de86ba20967f6ef156beeca0d62a">blk_er_lat</a>;   </div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structssdparams.html#aebc159516f73021767eb96c276f64d08">  159</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#aebc159516f73021767eb96c276f64d08">ch_xfer_lat</a>;  </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structssdparams.html#a3f75f55bbbf319375cc45dcf2daaaca4">  161</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structssdparams.html#a3f75f55bbbf319375cc45dcf2daaaca4">gc_thres_pcent</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="structssdparams.html#a1bccb207bbd6aeca6c7b5fef5d530f6d">  162</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a1bccb207bbd6aeca6c7b5fef5d530f6d">gc_thres_lines</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structssdparams.html#a78f1013c9a83c3074ef83cd8782f84dd">  163</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structssdparams.html#a78f1013c9a83c3074ef83cd8782f84dd">gc_thres_pcent_high</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="structssdparams.html#ad72919d3040d8ba48758f0e276aea4ad">  164</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#ad72919d3040d8ba48758f0e276aea4ad">gc_thres_lines_high</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="structssdparams.html#ab072044ad8c0107835464ba876b618f2">  165</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structssdparams.html#ab072044ad8c0107835464ba876b618f2">enable_gc_delay</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">/* below are all calculated values */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="structssdparams.html#a957528e972891b69b89040996b061527">  168</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a957528e972891b69b89040996b061527">secs_per_blk</a>; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="structssdparams.html#ac1f4590960563c5d35826fae5062ab3c">  169</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#ac1f4590960563c5d35826fae5062ab3c">secs_per_pl</a>;  </div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="structssdparams.html#ac3f5ee9f571fe392380d5b0e16bab09b">  170</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#ac3f5ee9f571fe392380d5b0e16bab09b">secs_per_lun</a>; </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="structssdparams.html#a7ff91681af50eb844c9c5e80d0081e56">  171</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a7ff91681af50eb844c9c5e80d0081e56">secs_per_ch</a>;  </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="structssdparams.html#ad1cdb78c795ddac6af6b213977a97719">  172</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#ad1cdb78c795ddac6af6b213977a97719">tt_secs</a>;      </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="structssdparams.html#abd6475e516ca9a5b1250d32c52853951">  174</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#abd6475e516ca9a5b1250d32c52853951">pgs_per_pl</a>;   </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="structssdparams.html#a0a856000ec8d7d076eef4db2f1c4d87e">  175</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a0a856000ec8d7d076eef4db2f1c4d87e">pgs_per_lun</a>;  </div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="structssdparams.html#a618e42c61c1487fbe274ecc9d8b47e26">  176</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a618e42c61c1487fbe274ecc9d8b47e26">pgs_per_ch</a>;   </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="structssdparams.html#a853908a359571730e9f08e808eec2281">  177</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a853908a359571730e9f08e808eec2281">tt_pgs</a>;       </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="structssdparams.html#a17c866b5ab21200fe863c05201d70144">  179</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a17c866b5ab21200fe863c05201d70144">blks_per_lun</a>; </div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="structssdparams.html#a46af9099347b346ed63fd642df5a2262">  180</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a46af9099347b346ed63fd642df5a2262">blks_per_ch</a>;  </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="structssdparams.html#a7cd0ad9e577e097738e4bcd6882de2e0">  181</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a7cd0ad9e577e097738e4bcd6882de2e0">tt_blks</a>;      </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="structssdparams.html#a8e1e0e577c9c04b4c10d3d25cbf6957b">  183</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a8e1e0e577c9c04b4c10d3d25cbf6957b">secs_per_line</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="structssdparams.html#a09e04352d7b5b2e8f9bb011a37204e3c">  184</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a09e04352d7b5b2e8f9bb011a37204e3c">pgs_per_line</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="structssdparams.html#a82ef103d290bc47db0a2ee5a309b943c">  185</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a82ef103d290bc47db0a2ee5a309b943c">blks_per_line</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="structssdparams.html#acd04d8260ca1b86005ccc56307105b23">  186</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#acd04d8260ca1b86005ccc56307105b23">tt_lines</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="structssdparams.html#a5d77d505334c2cc261b44b7c83630424">  188</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a5d77d505334c2cc261b44b7c83630424">pls_per_ch</a>;   </div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="structssdparams.html#afef7c89eaa29554e7dca4814136c5756">  189</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#afef7c89eaa29554e7dca4814136c5756">tt_pls</a>;       </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="structssdparams.html#a8ec920f02aa51d4158e7946e81732645">  191</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structssdparams.html#a8ec920f02aa51d4158e7946e81732645">tt_luns</a>;      </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;};</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="structline.html">  198</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structline.html">line</a> {</div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="structline.html#aea4a6b372d188d62345ed68656fff577">  199</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structline.html#aea4a6b372d188d62345ed68656fff577">id</a>;  </div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structline.html#a7ddd1d1c2be2ce5467a30c30c9a989bd">  200</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structline.html#a7ddd1d1c2be2ce5467a30c30c9a989bd">ipc</a>; </div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="structline.html#aeefab665d811bfabfdaca326ab72e79c">  201</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structline.html#aeefab665d811bfabfdaca326ab72e79c">vpc</a>; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="structline.html#a90bfc26d9721bc6b0ef5eb55e165c40e">QTAILQ_ENTRY</a>(<a class="code" href="structline.html">line</a>) entry; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="structline.html#a089ed2a089e88d1421b88830d98561c2">  204</a></span>&#160;    <span class="keywordtype">size_t</span>                  <a class="code" href="structline.html#a089ed2a089e88d1421b88830d98561c2">pos</a>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;} <a class="code" href="ftl_8h.html#aed1bbdc2f5620a4e59bee553c2cdd5fb">line</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="structwrite__pointer.html">  211</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structwrite__pointer.html">write_pointer</a> {</div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="structwrite__pointer.html#ac533d4150e459ae66a36a1407d74cddc">  212</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structline.html">line</a> *<a class="code" href="structwrite__pointer.html#ac533d4150e459ae66a36a1407d74cddc">curline</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="structwrite__pointer.html#adf3acc53d295719babbd39458dddaa66">  213</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structwrite__pointer.html#adf3acc53d295719babbd39458dddaa66">ch</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structwrite__pointer.html#aac27e9340ffc7900b39c57731fa61dc0">  214</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structwrite__pointer.html#aac27e9340ffc7900b39c57731fa61dc0">lun</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="structwrite__pointer.html#acbaa6937b756b9cbf3f457973f98b12a">  215</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structwrite__pointer.html#acbaa6937b756b9cbf3f457973f98b12a">pg</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structwrite__pointer.html#a854272876a0fbd867842d16a3620a827">  216</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structwrite__pointer.html#a854272876a0fbd867842d16a3620a827">blk</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structwrite__pointer.html#a685331c5878278ccaf80c3672ce73f7c">  217</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structwrite__pointer.html#a685331c5878278ccaf80c3672ce73f7c">pl</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;};</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="structline__mgmt.html">  224</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structline__mgmt.html">line_mgmt</a> {</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="structline__mgmt.html#a52782d1468638fe4b1462bcd2175976c">  225</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structline.html">line</a> *<a class="code" href="structline__mgmt.html#a52782d1468638fe4b1462bcd2175976c">lines</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">/* free line list, we only need to maintain a list of blk numbers */</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="structline__mgmt.html#a9ca7398b8eddca574a52bcae7f8e3804">QTAILQ_HEAD</a>(free_line_list, <a class="code" href="structline.html">line</a>) free_line_list;</div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structline__mgmt.html#ade69f28e6b03baac256cd1646f95b3d8">  228</a></span>&#160;    <a class="code" href="structpqueue__t.html">pqueue_t</a> *<a class="code" href="structline__mgmt.html#ade69f28e6b03baac256cd1646f95b3d8">victim_line_pq</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">//QTAILQ_HEAD(victim_line_list, line) victim_line_list;</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="structline__mgmt.html#a9ca7398b8eddca574a52bcae7f8e3804">QTAILQ_HEAD</a>(full_line_list, <a class="code" href="structline.html">line</a>) full_line_list;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structline__mgmt.html#a871cace77a18047bec4e8bb62524321e">  231</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structline__mgmt.html#a871cace77a18047bec4e8bb62524321e">tt_lines</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="structline__mgmt.html#ab3da4f318464b294f5ad5179a0aa7b24">  232</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structline__mgmt.html#ab3da4f318464b294f5ad5179a0aa7b24">free_line_cnt</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structline__mgmt.html#a7cba4eac7dbe081ea3f943a5bd9b6ab8">  233</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structline__mgmt.html#a7cba4eac7dbe081ea3f943a5bd9b6ab8">victim_line_cnt</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structline__mgmt.html#a8ebebc34bbd4abeb8fdad4457042ad3b">  234</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structline__mgmt.html#a8ebebc34bbd4abeb8fdad4457042ad3b">full_line_cnt</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;};</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="structnand__cmd.html">  237</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structnand__cmd.html">nand_cmd</a> {</div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="structnand__cmd.html#a364c052be48202ede06e883e4b120409">  238</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__cmd.html#a364c052be48202ede06e883e4b120409">type</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="structnand__cmd.html#ac07e681b9811d160def06261529461c2">  239</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structnand__cmd.html#ac07e681b9811d160def06261529461c2">cmd</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="structnand__cmd.html#a0fda017087a80858b838195f4d8e2b36">  240</a></span>&#160;    int64_t <a class="code" href="structnand__cmd.html#a0fda017087a80858b838195f4d8e2b36">stime</a>; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;};</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structssd.html">  247</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structssd.html">ssd</a> {</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structssd.html#a8724ca69d768471877affbeadbe3c244">  248</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structssd.html#a8724ca69d768471877affbeadbe3c244">ssdname</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">  249</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structssdparams.html">ssdparams</a> <a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="structssd.html#a6ffa7f5fbc77044d9fb80e65d477a632">  250</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structssd__channel.html">ssd_channel</a> *<a class="code" href="structssd.html#a6ffa7f5fbc77044d9fb80e65d477a632">ch</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="structssd.html#a9d1cef93bbb35d5d9ee62073e99e53b0">  251</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structppa.html">ppa</a> *<a class="code" href="structssd.html#a9d1cef93bbb35d5d9ee62073e99e53b0">maptbl</a>;             </div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structssd.html#ae49bd8bfc26a6a8f1a992d84e0cc862c">  252</a></span>&#160;    uint64_t *<a class="code" href="structssd.html#ae49bd8bfc26a6a8f1a992d84e0cc862c">rmap</a>;                 </div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="structssd.html#a8ce888a31348d5b2fa1d914dde456166">  253</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structwrite__pointer.html">write_pointer</a> <a class="code" href="structssd.html#a8ce888a31348d5b2fa1d914dde456166">wp</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="structssd.html#a58bcbabc96ec3acaa19fac4ecf7956dc">  254</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structline__mgmt.html">line_mgmt</a> <a class="code" href="structssd.html#a58bcbabc96ec3acaa19fac4ecf7956dc">lm</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">/* lockless ring for communication with NVMe IO thread */</span></div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="structssd.html#af1863ea3d676d7f2a9db127e2ced4c87">  257</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> **<a class="code" href="structssd.html#af1863ea3d676d7f2a9db127e2ced4c87">to_ftl</a>;       </div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="structssd.html#af5ac3e7f4169f686b1279f054413e84f">  258</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> **<a class="code" href="structssd.html#af5ac3e7f4169f686b1279f054413e84f">to_poller</a>;    </div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="structssd.html#a2b0e9503ff5811ff40f5b426d137692e">  259</a></span>&#160;    <span class="keywordtype">bool</span> *<a class="code" href="structssd.html#a2b0e9503ff5811ff40f5b426d137692e">dataplane_started_ptr</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="structssd.html#a6952886e09ff0a561ea0f61786904637">  260</a></span>&#160;    QemuThread <a class="code" href="structssd.html#a6952886e09ff0a561ea0f61786904637">ftl_thread</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;};</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keywordtype">void</span> <a class="code" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0">ssd_init</a>(<a class="code" href="structFemuCtrl.html">FemuCtrl</a> *n);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">#ifdef FEMU_DEBUG_FTL</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="preprocessor">#define ftl_debug(fmt, ...) \</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">    do { printf(&quot;[FEMU] FTL-Dbg: &quot; fmt, ## __VA_ARGS__); } while (0)</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="ftl_8h.html#adee7fac1ed803808b8fb7ee9ffa785d2">  269</a></span>&#160;<span class="preprocessor">#define ftl_debug(fmt, ...) \</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">    do { } while (0)</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="ftl_8h.html#ae78ff7bb5a99b8a8ac5fc3c82e0ca403">  273</a></span>&#160;<span class="preprocessor">#define ftl_err(fmt, ...) \</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">    do { fprintf(stderr, &quot;[FEMU] FTL-Err: &quot; fmt, ## __VA_ARGS__); } while (0)</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="ftl_8h.html#ae8ee7af893ef1bb56935ccab37a9ec1e">  276</a></span>&#160;<span class="preprocessor">#define ftl_log(fmt, ...) \</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">    do { printf(&quot;[FEMU] FTL-Log: &quot; fmt, ## __VA_ARGS__); } while (0)</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">/* FEMU assert() */</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#ifdef FEMU_DEBUG_FTL</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">#define ftl_assert(expression) assert(expression)</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="ftl_8h.html#ae75f0eba5aa21c83a6590b869a55d152">  284</a></span>&#160;<span class="preprocessor">#define ftl_assert(expression)</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aftl_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a20ce8680df93c5e2acbf38a65350e122"><div class="ttname"><a href="ftl_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a20ce8680df93c5e2acbf38a65350e122">GC_IO</a></div><div class="ttdeci">@ GC_IO</div><div class="ttdef"><b>Definition:</b> ftl.h:32</div></div>
<div class="ttc" id="astructnand__block_html_a0c979863e9e1648cbf3a129bcd92820b"><div class="ttname"><a href="structnand__block.html#a0c979863e9e1648cbf3a129bcd92820b">nand_block::ipc</a></div><div class="ttdeci">int ipc</div><div class="ttdef"><b>Definition:</b> ftl.h:104</div></div>
<div class="ttc" id="astructNvmeCmd_html"><div class="ttname"><a href="structNvmeCmd.html">NvmeCmd</a></div><div class="ttdef"><b>Definition:</b> nvme.h:296</div></div>
<div class="ttc" id="aftl_8c_html_aedba9d148f29a3ea880cf3abbbc07fad"><div class="ttname"><a href="ftl_8c.html#aedba9d148f29a3ea880cf3abbbc07fad">do_gc</a></div><div class="ttdeci">static int do_gc(struct ssd *ssd, bool force)</div><div class="ttdoc">gc函数，清理一整个line</div><div class="ttdef"><b>Definition:</b> ftl.c:865</div></div>
<div class="ttc" id="aftl_8c_html_aa17bd85978e80a1bb61285f026f7a427"><div class="ttname"><a href="ftl_8c.html#aa17bd85978e80a1bb61285f026f7a427">ssd_init_nand_page</a></div><div class="ttdeci">static void ssd_init_nand_page(struct nand_page *pg, struct ssdparams *spp)</div><div class="ttdef"><b>Definition:</b> ftl.c:352</div></div>
<div class="ttc" id="aftl_8h_html_a99fb83031ce9923c84392b4e92f956b5a9c9278e0defed03ac007a9d18a097b10"><div class="ttname"><a href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a9c9278e0defed03ac007a9d18a097b10">SEC_FREE</a></div><div class="ttdeci">@ SEC_FREE</div><div class="ttdef"><b>Definition:</b> ftl.h:36</div></div>
<div class="ttc" id="astructppa_html_a9ca7013864c40d83a67ce2d8edf2350e"><div class="ttname"><a href="structppa.html#a9ca7013864c40d83a67ce2d8edf2350e">ppa::lun</a></div><div class="ttdeci">uint64_t lun</div><div class="ttdef"><b>Definition:</b> ftl.h:76</div></div>
<div class="ttc" id="astructssdparams_html_aebc159516f73021767eb96c276f64d08"><div class="ttname"><a href="structssdparams.html#aebc159516f73021767eb96c276f64d08">ssdparams::ch_xfer_lat</a></div><div class="ttdeci">int ch_xfer_lat</div><div class="ttdef"><b>Definition:</b> ftl.h:159</div></div>
<div class="ttc" id="anvme-io_8c_html_a57765d5f7b83e5c6af69f1f5c501beb7"><div class="ttname"><a href="nvme-io_8c.html#a57765d5f7b83e5c6af69f1f5c501beb7">nvme_rw</a></div><div class="ttdeci">uint16_t nvme_rw(FemuCtrl *n, NvmeNamespace *ns, NvmeCmd *cmd, NvmeRequest *req)</div><div class="ttdoc">nvme读写命令</div><div class="ttdef"><b>Definition:</b> nvme-io.c:370</div></div>
<div class="ttc" id="astructnand__cmd_html_a0fda017087a80858b838195f4d8e2b36"><div class="ttname"><a href="structnand__cmd.html#a0fda017087a80858b838195f4d8e2b36">nand_cmd::stime</a></div><div class="ttdeci">int64_t stime</div><div class="ttdef"><b>Definition:</b> ftl.h:240</div></div>
<div class="ttc" id="astructssd_html_a6ffa7f5fbc77044d9fb80e65d477a632"><div class="ttname"><a href="structssd.html#a6ffa7f5fbc77044d9fb80e65d477a632">ssd::ch</a></div><div class="ttdeci">struct ssd_channel * ch</div><div class="ttdef"><b>Definition:</b> ftl.h:250</div></div>
<div class="ttc" id="astructline__mgmt_html_a52782d1468638fe4b1462bcd2175976c"><div class="ttname"><a href="structline__mgmt.html#a52782d1468638fe4b1462bcd2175976c">line_mgmt::lines</a></div><div class="ttdeci">struct line * lines</div><div class="ttdef"><b>Definition:</b> ftl.h:225</div></div>
<div class="ttc" id="aftl_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba961b37b2f319961303251f5ef3d2e93f"><div class="ttname"><a href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba961b37b2f319961303251f5ef3d2e93f">NAND_ERASE_LATENCY</a></div><div class="ttdeci">@ NAND_ERASE_LATENCY</div><div class="ttdef"><b>Definition:</b> ftl.h:27</div></div>
<div class="ttc" id="astructnand__block_html_afd82eb2e8b19ec2dd70b0bfa3e602776"><div class="ttname"><a href="structnand__block.html#afd82eb2e8b19ec2dd70b0bfa3e602776">nand_block::npgs</a></div><div class="ttdeci">int npgs</div><div class="ttdef"><b>Definition:</b> ftl.h:103</div></div>
<div class="ttc" id="astructssdparams_html_ab8b7f48bd8cae23a4da6dcc8ceeb05ab"><div class="ttname"><a href="structssdparams.html#ab8b7f48bd8cae23a4da6dcc8ceeb05ab">ssdparams::pg_rd_lat</a></div><div class="ttdeci">int pg_rd_lat</div><div class="ttdef"><b>Definition:</b> ftl.h:156</div></div>
<div class="ttc" id="astructssd_html"><div class="ttname"><a href="structssd.html">ssd</a></div><div class="ttdoc">模拟一个ssd</div><div class="ttdef"><b>Definition:</b> ftl.h:247</div></div>
<div class="ttc" id="astructssd__channel_html_a43f4b195efe270acfb3ba6fa229ecf1b"><div class="ttname"><a href="structssd__channel.html#a43f4b195efe270acfb3ba6fa229ecf1b">ssd_channel::lun</a></div><div class="ttdeci">struct nand_lun * lun</div><div class="ttdef"><b>Definition:</b> ftl.h:136</div></div>
<div class="ttc" id="astructssdparams_html_a584a92a1768fad79586d746562db0ced"><div class="ttname"><a href="structssdparams.html#a584a92a1768fad79586d746562db0ced">ssdparams::pg_wr_lat</a></div><div class="ttdeci">int pg_wr_lat</div><div class="ttdef"><b>Definition:</b> ftl.h:157</div></div>
<div class="ttc" id="astructFemuCtrl_html"><div class="ttname"><a href="structFemuCtrl.html">FemuCtrl</a></div><div class="ttdoc">femu相关控制参数和数据成员</div><div class="ttdef"><b>Definition:</b> nvme.h:1184</div></div>
<div class="ttc" id="astructFemuCtrl_html_a3a16108410047b6e7d6ac06c3cb5cd76"><div class="ttname"><a href="structFemuCtrl.html#a3a16108410047b6e7d6ac06c3cb5cd76">FemuCtrl::print_log</a></div><div class="ttdeci">bool print_log</div><div class="ttdef"><b>Definition:</b> nvme.h:1334</div></div>
<div class="ttc" id="aftl_8c_html_a3c2e22192ca991c459c54bead5b1ff98"><div class="ttname"><a href="ftl_8c.html#a3c2e22192ca991c459c54bead5b1ff98">ppa2pgidx</a></div><div class="ttdeci">static uint64_t ppa2pgidx(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdef"><b>Definition:</b> ftl.c:55</div></div>
<div class="ttc" id="apqueue_8h_html_abec9363c7a9cc89190bf0925a4a1652c"><div class="ttname"><a href="pqueue_8h.html#abec9363c7a9cc89190bf0925a4a1652c">pqueue_pop</a></div><div class="ttdeci">void * pqueue_pop(pqueue_t *q)</div><div class="ttdef"><b>Definition:</b> pqueue.c:172</div></div>
<div class="ttc" id="astructFemuCtrl_html_a2b07accc41de60cd0c6de43adde355ad"><div class="ttname"><a href="structFemuCtrl.html#a2b07accc41de60cd0c6de43adde355ad">FemuCtrl::ext_ops</a></div><div class="ttdeci">FemuExtCtrlOps ext_ops</div><div class="ttdoc">nvme到各模式ssd接口</div><div class="ttdef"><b>Definition:</b> nvme.h:1220</div></div>
<div class="ttc" id="astructnand__lun_html_acf81a9df9b43a75795a3f16b6dc52038"><div class="ttname"><a href="structnand__lun.html#acf81a9df9b43a75795a3f16b6dc52038">nand_lun::busy</a></div><div class="ttdeci">bool busy</div><div class="ttdef"><b>Definition:</b> ftl.h:127</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04afcb5b35957d832112aeb8250e90d8fcf"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04afcb5b35957d832112aeb8250e90d8fcf">FEMU_DISABLE_LOG</a></div><div class="ttdeci">@ FEMU_DISABLE_LOG</div><div class="ttdef"><b>Definition:</b> ftl.h:54</div></div>
<div class="ttc" id="astructwrite__pointer_html_ac533d4150e459ae66a36a1407d74cddc"><div class="ttname"><a href="structwrite__pointer.html#ac533d4150e459ae66a36a1407d74cddc">write_pointer::curline</a></div><div class="ttdeci">struct line * curline</div><div class="ttdef"><b>Definition:</b> ftl.h:212</div></div>
<div class="ttc" id="aftl_8h_html_a7e7c99782de81b38fa1b30a3fd617e0a"><div class="ttname"><a href="ftl_8h.html#a7e7c99782de81b38fa1b30a3fd617e0a">PG_BITS</a></div><div class="ttdeci">#define PG_BITS</div><div class="ttdef"><b>Definition:</b> ftl.h:59</div></div>
<div class="ttc" id="aftl_8c_html_aadf575bf139734453ba8fa6af20b1ac3"><div class="ttname"><a href="ftl_8c.html#aadf575bf139734453ba8fa6af20b1ac3">get_ch</a></div><div class="ttdeci">static struct ssd_channel * get_ch(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdef"><b>Definition:</b> ftl.c:498</div></div>
<div class="ttc" id="aftl_8c_html_a3cfafde63950110fe49516abc429ef66"><div class="ttname"><a href="ftl_8c.html#a3cfafde63950110fe49516abc429ef66">get_pg</a></div><div class="ttdeci">static struct nand_page * get_pg(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdef"><b>Definition:</b> ftl.c:526</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6a324318d7d84def33dd8a53724f14ab10"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a324318d7d84def33dd8a53724f14ab10">NVME_CMD_DSM</a></div><div class="ttdeci">@ NVME_CMD_DSM</div><div class="ttdef"><b>Definition:</b> nvme.h:345</div></div>
<div class="ttc" id="aftl_8c_html_ae19a0a686346f1ffbfa9e73035efbaad"><div class="ttname"><a href="ftl_8c.html#ae19a0a686346f1ffbfa9e73035efbaad">ssd_init_rmap</a></div><div class="ttdeci">static void ssd_init_rmap(struct ssd *ssd)</div><div class="ttdef"><b>Definition:</b> ftl.c:416</div></div>
<div class="ttc" id="apqueue_8h_html_a7dfaa607ca404b915355d4b123c669ee"><div class="ttname"><a href="pqueue_8h.html#a7dfaa607ca404b915355d4b123c669ee">pqueue_change_priority</a></div><div class="ttdeci">void pqueue_change_priority(pqueue_t *q, pqueue_pri_t new_pri, void *d)</div><div class="ttdef"><b>Definition:</b> pqueue.c:147</div></div>
<div class="ttc" id="anvme_8h_html_a279462a0d67217a97c8946fa74531952"><div class="ttname"><a href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a></div><div class="ttdeci">#define femu_log(fmt,...)</div><div class="ttdef"><b>Definition:</b> nvme.h:1514</div></div>
<div class="ttc" id="astructline__mgmt_html_a7cba4eac7dbe081ea3f943a5bd9b6ab8"><div class="ttname"><a href="structline__mgmt.html#a7cba4eac7dbe081ea3f943a5bd9b6ab8">line_mgmt::victim_line_cnt</a></div><div class="ttdeci">int victim_line_cnt</div><div class="ttdef"><b>Definition:</b> ftl.h:233</div></div>
<div class="ttc" id="astructssdparams_html_a5d77d505334c2cc261b44b7c83630424"><div class="ttname"><a href="structssdparams.html#a5d77d505334c2cc261b44b7c83630424">ssdparams::pls_per_ch</a></div><div class="ttdeci">int pls_per_ch</div><div class="ttdef"><b>Definition:</b> ftl.h:188</div></div>
<div class="ttc" id="astructssd__channel_html"><div class="ttname"><a href="structssd__channel.html">ssd_channel</a></div><div class="ttdoc">通道</div><div class="ttdef"><b>Definition:</b> ftl.h:135</div></div>
<div class="ttc" id="astructwrite__pointer_html_a854272876a0fbd867842d16a3620a827"><div class="ttname"><a href="structwrite__pointer.html#a854272876a0fbd867842d16a3620a827">write_pointer::blk</a></div><div class="ttdeci">int blk</div><div class="ttdef"><b>Definition:</b> ftl.h:216</div></div>
<div class="ttc" id="anvme_8h_html_a5d9fde4912328e2ecf4f80e41e1da013"><div class="ttname"><a href="nvme_8h.html#a5d9fde4912328e2ecf4f80e41e1da013">FemuExtCtrlOps</a></div><div class="ttdeci">struct FemuExtCtrlOps FemuExtCtrlOps</div><div class="ttdoc">扩展操作接口，具体实现在各模式ssd中</div></div>
<div class="ttc" id="aftl_8c_html_a080e38a63b4626bd7cf314fcf74f2fb2"><div class="ttname"><a href="ftl_8c.html#a080e38a63b4626bd7cf314fcf74f2fb2">get_line</a></div><div class="ttdeci">static struct line * get_line(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdef"><b>Definition:</b> ftl.c:521</div></div>
<div class="ttc" id="aftl_8c_html_a659c0c25af9ae17e1771fc5bf7bca444"><div class="ttname"><a href="ftl_8c.html#a659c0c25af9ae17e1771fc5bf7bca444">get_next_free_line</a></div><div class="ttdeci">static struct line * get_next_free_line(struct ssd *ssd)</div><div class="ttdef"><b>Definition:</b> ftl.c:184</div></div>
<div class="ttc" id="aftl_8c_html_a306780893a49a72da761566ca918b35e"><div class="ttname"><a href="ftl_8c.html#a306780893a49a72da761566ca918b35e">ssd_read</a></div><div class="ttdeci">static uint64_t ssd_read(struct ssd *ssd, NvmeRequest *req)</div><div class="ttdef"><b>Definition:</b> ftl.c:911</div></div>
<div class="ttc" id="aftl_8c_html_a3716c928ff3ccf16e82ae281fd3dd6d3"><div class="ttname"><a href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3">ftl_thread</a></div><div class="ttdeci">static void * ftl_thread(void *arg)</div><div class="ttdoc">ftl线程函数，不断从to_ftl中取req，处理（计算出时延）后放入to_poller</div><div class="ttdef"><b>Definition:</b> ftl.c:1015</div></div>
<div class="ttc" id="aftl_8c_html_adaaf0f3e032de3124ddc61a6111b25db"><div class="ttname"><a href="ftl_8c.html#adaaf0f3e032de3124ddc61a6111b25db">mark_page_invalid</a></div><div class="ttdeci">static void mark_page_invalid(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdoc">update SSD status about one page from PG_VALID -&gt; PG_INVALID</div><div class="ttdef"><b>Definition:</b> ftl.c:617</div></div>
<div class="ttc" id="aftl_8c_html_a75e82f66648a13506f57f7bb0fce7a10"><div class="ttname"><a href="ftl_8c.html#a75e82f66648a13506f57f7bb0fce7a10">ssd_init_lines</a></div><div class="ttdeci">static void ssd_init_lines(struct ssd *ssd)</div><div class="ttdoc">初始化lines，所有line加入free_line_list，而full_line_list和victim_line_pq为空</div><div class="ttdef"><b>Definition:</b> ftl.c:122</div></div>
<div class="ttc" id="astructssdparams_html_a17c866b5ab21200fe863c05201d70144"><div class="ttname"><a href="structssdparams.html#a17c866b5ab21200fe863c05201d70144">ssdparams::blks_per_lun</a></div><div class="ttdeci">int blks_per_lun</div><div class="ttdef"><b>Definition:</b> ftl.h:179</div></div>
<div class="ttc" id="astructppa_html_a2a6aa96bc52767ee0f609ae28a01a6f7"><div class="ttname"><a href="structppa.html#a2a6aa96bc52767ee0f609ae28a01a6f7">ppa::sec</a></div><div class="ttdeci">uint64_t sec</div><div class="ttdef"><b>Definition:</b> ftl.h:74</div></div>
<div class="ttc" id="aftl_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba21101ced44d7c10f4be3536ccf778399"><div class="ttname"><a href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba21101ced44d7c10f4be3536ccf778399">NAND_ERASE</a></div><div class="ttdeci">@ NAND_ERASE</div><div class="ttdef"><b>Definition:</b> ftl.h:23</div></div>
<div class="ttc" id="aoc12_8h_html_aafa9f203f0abc59a4b08b3833f39b92c"><div class="ttname"><a href="oc12_8h.html#aafa9f203f0abc59a4b08b3833f39b92c">lba</a></div><div class="ttdeci">uint64_t lba</div><div class="ttdef"><b>Definition:</b> oc12.h:2</div></div>
<div class="ttc" id="anvme_8h_html_aef2bfc05ccbdba79aef90226efe46ad4"><div class="ttname"><a href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a></div><div class="ttdeci">#define femu_debug(fmt,...)</div><div class="ttdef"><b>Definition:</b> nvme.h:1507</div></div>
<div class="ttc" id="astructnand__lun_html_a68ecfcc73af2f1103b2612aab0db8c2d"><div class="ttname"><a href="structnand__lun.html#a68ecfcc73af2f1103b2612aab0db8c2d">nand_lun::gc_endtime</a></div><div class="ttdeci">uint64_t gc_endtime</div><div class="ttdef"><b>Definition:</b> ftl.h:128</div></div>
<div class="ttc" id="aftl_8c_html_a5313a5ca429ce56095c0c1052c301c15"><div class="ttname"><a href="ftl_8c.html#a5313a5ca429ce56095c0c1052c301c15">mark_block_free</a></div><div class="ttdeci">static void mark_block_free(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdoc">将一个空block中所有页标记为PG_FREE</div><div class="ttdef"><b>Definition:</b> ftl.c:698</div></div>
<div class="ttc" id="astructppa_html_a7e41b431057d4d5f81e8b79e6ff732ac"><div class="ttname"><a href="structppa.html#a7e41b431057d4d5f81e8b79e6ff732ac">ppa::pg</a></div><div class="ttdeci">uint64_t pg</div><div class="ttdef"><b>Definition:</b> ftl.h:73</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a></div><div class="ttdeci">@ NVME_SUCCESS</div><div class="ttdef"><b>Definition:</b> nvme.h:526</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a70aaecbce9afd8092f1b055c54772e4f"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a70aaecbce9afd8092f1b055c54772e4f">NVME_ADM_CMD_FEMU_FLIP</a></div><div class="ttdeci">@ NVME_ADM_CMD_FEMU_FLIP</div><div class="ttdef"><b>Definition:</b> nvme.h:335</div></div>
<div class="ttc" id="astructFemuCtrl_html_a78baba4717dd495d81af587a1a95a0b7"><div class="ttname"><a href="structFemuCtrl.html#a78baba4717dd495d81af587a1a95a0b7">FemuCtrl::num_poller</a></div><div class="ttdeci">uint32_t num_poller</div><div class="ttdoc">nvme poller个数（前提是multupoller_enabled开启）</div><div class="ttdef"><b>Definition:</b> nvme.h:1337</div></div>
<div class="ttc" id="astructppa_html_a8a0a9d008a2c5a830b036bdc9c6d2764"><div class="ttname"><a href="structppa.html#a8a0a9d008a2c5a830b036bdc9c6d2764">ppa::pl</a></div><div class="ttdeci">uint64_t pl</div><div class="ttdef"><b>Definition:</b> ftl.h:75</div></div>
<div class="ttc" id="apqueue_8h_html_ad8239ddc32134716f57e54bb972f6bf0"><div class="ttname"><a href="pqueue_8h.html#ad8239ddc32134716f57e54bb972f6bf0">pqueue_pri_t</a></div><div class="ttdeci">unsigned long long pqueue_pri_t</div><div class="ttdef"><b>Definition:</b> pqueue.h:39</div></div>
<div class="ttc" id="aftl_8c_html_a4a3067e8cef7d5c0e777cc82cf9c40c3"><div class="ttname"><a href="ftl_8c.html#a4a3067e8cef7d5c0e777cc82cf9c40c3">valid_lpn</a></div><div class="ttdeci">static bool valid_lpn(struct ssd *ssd, uint64_t lpn)</div><div class="ttdef"><b>Definition:</b> ftl.c:488</div></div>
<div class="ttc" id="astructssdparams_html_afef7c89eaa29554e7dca4814136c5756"><div class="ttname"><a href="structssdparams.html#afef7c89eaa29554e7dca4814136c5756">ssdparams::tt_pls</a></div><div class="ttdeci">int tt_pls</div><div class="ttdef"><b>Definition:</b> ftl.h:189</div></div>
<div class="ttc" id="aftl_8h_html_abde6be2e893748e5be41abb9c047e242"><div class="ttname"><a href="ftl_8h.html#abde6be2e893748e5be41abb9c047e242">SEC_BITS</a></div><div class="ttdeci">#define SEC_BITS</div><div class="ttdef"><b>Definition:</b> ftl.h:60</div></div>
<div class="ttc" id="astructssdparams_html_a78f1013c9a83c3074ef83cd8782f84dd"><div class="ttname"><a href="structssdparams.html#a78f1013c9a83c3074ef83cd8782f84dd">ssdparams::gc_thres_pcent_high</a></div><div class="ttdeci">double gc_thres_pcent_high</div><div class="ttdef"><b>Definition:</b> ftl.h:163</div></div>
<div class="ttc" id="aftl_8h_html_a612770e7e6bcfee88de7ef1efea82381"><div class="ttname"><a href="ftl_8h.html#a612770e7e6bcfee88de7ef1efea82381">PL_BITS</a></div><div class="ttdeci">#define PL_BITS</div><div class="ttdef"><b>Definition:</b> ftl.h:61</div></div>
<div class="ttc" id="aftl_8c_html_aac3ae48a56045829a6e2f1bf933b1d5b"><div class="ttname"><a href="ftl_8c.html#aac3ae48a56045829a6e2f1bf933b1d5b">set_rmap_ent</a></div><div class="ttdeci">static void set_rmap_ent(struct ssd *ssd, uint64_t lpn, struct ppa *ppa)</div><div class="ttdoc">赋值一个反向映射表项（rmap[page_no(ppa)] -&gt; lpn）</div><div class="ttdef"><b>Definition:</b> ftl.c:85</div></div>
<div class="ttc" id="astructNvmeRequest_html_ab9efcb9c4901c697b16f583893abef3a"><div class="ttname"><a href="structNvmeRequest.html#ab9efcb9c4901c697b16f583893abef3a">NvmeRequest::nlb</a></div><div class="ttdeci">uint16_t nlb</div><div class="ttdoc">逻辑块个数</div><div class="ttdef"><b>Definition:</b> nvme.h:974</div></div>
<div class="ttc" id="astructppa_html_a62bda76b2d5198e19ba1198df79c39f8"><div class="ttname"><a href="structppa.html#a62bda76b2d5198e19ba1198df79c39f8">ppa::g</a></div><div class="ttdeci">struct ppa::@4::@6 g</div></div>
<div class="ttc" id="astructssd_html_a8ce888a31348d5b2fa1d914dde456166"><div class="ttname"><a href="structssd.html#a8ce888a31348d5b2fa1d914dde456166">ssd::wp</a></div><div class="ttdeci">struct write_pointer wp</div><div class="ttdef"><b>Definition:</b> ftl.h:253</div></div>
<div class="ttc" id="aftl_8h_html"><div class="ttname"><a href="ftl_8h.html">ftl.h</a></div><div class="ttdoc">ftl相关数据声明</div></div>
<div class="ttc" id="astructline__mgmt_html"><div class="ttname"><a href="structline__mgmt.html">line_mgmt</a></div><div class="ttdoc">记录各种line的列表和数量</div><div class="ttdef"><b>Definition:</b> ftl.h:224</div></div>
<div class="ttc" id="astructwrite__pointer_html_acbaa6937b756b9cbf3f457973f98b12a"><div class="ttname"><a href="structwrite__pointer.html#acbaa6937b756b9cbf3f457973f98b12a">write_pointer::pg</a></div><div class="ttdeci">int pg</div><div class="ttdef"><b>Definition:</b> ftl.h:215</div></div>
<div class="ttc" id="astructNvmeNamespace_html"><div class="ttname"><a href="structNvmeNamespace.html">NvmeNamespace</a></div><div class="ttdef"><b>Definition:</b> nvme.h:1065</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6af12c69a9bdf0ad418e4a144ef5424336"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6af12c69a9bdf0ad418e4a144ef5424336">NVME_CMD_WRITE</a></div><div class="ttdeci">@ NVME_CMD_WRITE</div><div class="ttdef"><b>Definition:</b> nvme.h:340</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a></div><div class="ttdeci">@ NVME_DNR</div><div class="ttdef"><b>Definition:</b> nvme.h:581</div></div>
<div class="ttc" id="astructssdparams_html_a17a649068b0acfe64a1afc67b51236fb"><div class="ttname"><a href="structssdparams.html#a17a649068b0acfe64a1afc67b51236fb">ssdparams::nchs</a></div><div class="ttdeci">int nchs</div><div class="ttdef"><b>Definition:</b> ftl.h:154</div></div>
<div class="ttc" id="aftl_8c_html_a03834614ca890f0367e871939f0ffc3b"><div class="ttname"><a href="ftl_8c.html#a03834614ca890f0367e871939f0ffc3b">mark_page_valid</a></div><div class="ttdeci">static void mark_page_valid(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdoc">将一个page从PG_FREE标记为PG_VALID</div><div class="ttdef"><b>Definition:</b> ftl.c:670</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a2bdc68ee27c5732068656308799b4c1f"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a2bdc68ee27c5732068656308799b4c1f">FEMU_ENABLE_GC_DELAY</a></div><div class="ttdeci">@ FEMU_ENABLE_GC_DELAY</div><div class="ttdef"><b>Definition:</b> ftl.h:46</div></div>
<div class="ttc" id="aftl_8c_html_a8f0b10088699a4513219eafe0e2e4bc6"><div class="ttname"><a href="ftl_8c.html#a8f0b10088699a4513219eafe0e2e4bc6">get_pl</a></div><div class="ttdeci">static struct nand_plane * get_pl(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdef"><b>Definition:</b> ftl.c:509</div></div>
<div class="ttc" id="astructssd_html_a9d1cef93bbb35d5d9ee62073e99e53b0"><div class="ttname"><a href="structssd.html#a9d1cef93bbb35d5d9ee62073e99e53b0">ssd::maptbl</a></div><div class="ttdeci">struct ppa * maptbl</div><div class="ttdoc">页映射表</div><div class="ttdef"><b>Definition:</b> ftl.h:251</div></div>
<div class="ttc" id="arte__ring_8h_html_ab2417e0e85ffd0e61ec4b0ee263ab809"><div class="ttname"><a href="rte__ring_8h.html#ab2417e0e85ffd0e61ec4b0ee263ab809">femu_ring_dequeue</a></div><div class="ttdeci">size_t femu_ring_dequeue(struct rte_ring *ring, void **objs, size_t count)</div><div class="ttdef"><b>Definition:</b> rte_ring.c:228</div></div>
<div class="ttc" id="aftl_8c_html_a4b9026945c9fcc578ba0f7a7a84a1af1"><div class="ttname"><a href="ftl_8c.html#a4b9026945c9fcc578ba0f7a7a84a1af1">gc_read_page</a></div><div class="ttdeci">static void gc_read_page(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdoc">gc产生的读page</div><div class="ttdef"><b>Definition:</b> ftl.c:724</div></div>
<div class="ttc" id="astructssd_html_a6952886e09ff0a561ea0f61786904637"><div class="ttname"><a href="structssd.html#a6952886e09ff0a561ea0f61786904637">ssd::ftl_thread</a></div><div class="ttdeci">QemuThread ftl_thread</div><div class="ttdef"><b>Definition:</b> ftl.h:260</div></div>
<div class="ttc" id="aftl_8h_html_a4f586d4bebabb8dce738295d42a3671e"><div class="ttname"><a href="ftl_8h.html#a4f586d4bebabb8dce738295d42a3671e">UNMAPPED_PPA</a></div><div class="ttdeci">#define UNMAPPED_PPA</div><div class="ttdef"><b>Definition:</b> ftl.h:14</div></div>
<div class="ttc" id="aftl_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba9eb21f1680871f4d099414752c40a2e4"><div class="ttname"><a href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba9eb21f1680871f4d099414752c40a2e4">NAND_WRITE</a></div><div class="ttdeci">@ NAND_WRITE</div><div class="ttdef"><b>Definition:</b> ftl.h:22</div></div>
<div class="ttc" id="astructssdparams_html_ad339ca6a9e013ff5d28d408f7e2ad705"><div class="ttname"><a href="structssdparams.html#ad339ca6a9e013ff5d28d408f7e2ad705">ssdparams::luns_per_ch</a></div><div class="ttdeci">int luns_per_ch</div><div class="ttdef"><b>Definition:</b> ftl.h:153</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a32eeac57f9b0e5ae117a2c70623daa0f"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a32eeac57f9b0e5ae117a2c70623daa0f">FEMU_ENABLE_DELAY_EMU</a></div><div class="ttdeci">@ FEMU_ENABLE_DELAY_EMU</div><div class="ttdef"><b>Definition:</b> ftl.h:49</div></div>
<div class="ttc" id="aftl_8c_html_a4494881726f0faee876d503fa1f2e312"><div class="ttname"><a href="ftl_8c.html#a4494881726f0faee876d503fa1f2e312">should_gc_high</a></div><div class="ttdeci">static bool should_gc_high(struct ssd *ssd)</div><div class="ttdoc">gc阈值</div><div class="ttdef"><b>Definition:</b> ftl.c:32</div></div>
<div class="ttc" id="aftl_8c_html_ae8e269140ca688f2decf1b684d2e3991"><div class="ttname"><a href="ftl_8c.html#ae8e269140ca688f2decf1b684d2e3991">victim_line_set_pos</a></div><div class="ttdeci">static void victim_line_set_pos(void *a, size_t pos)</div><div class="ttdef"><b>Definition:</b> ftl.c:112</div></div>
<div class="ttc" id="apqueue_8h_html_a2c27c13ed1c988e9fc7b259e6820ca8c"><div class="ttname"><a href="pqueue_8h.html#a2c27c13ed1c988e9fc7b259e6820ca8c">pqueue_init</a></div><div class="ttdeci">pqueue_t * pqueue_init(size_t n, pqueue_cmp_pri_f cmppri, pqueue_get_pri_f getpri, pqueue_set_pri_f setpri, pqueue_get_pos_f getpos, pqueue_set_pos_f setpos)</div><div class="ttdef"><b>Definition:</b> pqueue.c:37</div></div>
<div class="ttc" id="astructline_html_a90bfc26d9721bc6b0ef5eb55e165c40e"><div class="ttname"><a href="structline.html#a90bfc26d9721bc6b0ef5eb55e165c40e">line::QTAILQ_ENTRY</a></div><div class="ttdeci">QTAILQ_ENTRY(line) entry</div></div>
<div class="ttc" id="astructssd_html_a58bcbabc96ec3acaa19fac4ecf7956dc"><div class="ttname"><a href="structssd.html#a58bcbabc96ec3acaa19fac4ecf7956dc">ssd::lm</a></div><div class="ttdeci">struct line_mgmt lm</div><div class="ttdef"><b>Definition:</b> ftl.h:254</div></div>
<div class="ttc" id="astructppa_html_a4dc2d1cdc8cce18cdf002f309395cba8"><div class="ttname"><a href="structppa.html#a4dc2d1cdc8cce18cdf002f309395cba8">ppa::ppa</a></div><div class="ttdeci">uint64_t ppa</div><div class="ttdef"><b>Definition:</b> ftl.h:81</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a6b20efba3de792d95d952a331da4abcb"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a6b20efba3de792d95d952a331da4abcb">FEMU_RESET_ACCT</a></div><div class="ttdeci">@ FEMU_RESET_ACCT</div><div class="ttdef"><b>Definition:</b> ftl.h:52</div></div>
<div class="ttc" id="astructssdparams_html_a6865de86ba20967f6ef156beeca0d62a"><div class="ttname"><a href="structssdparams.html#a6865de86ba20967f6ef156beeca0d62a">ssdparams::blk_er_lat</a></div><div class="ttdeci">int blk_er_lat</div><div class="ttdef"><b>Definition:</b> ftl.h:158</div></div>
<div class="ttc" id="astructnand__page_html_ac238873d503e6fd6530f43b784019dfc"><div class="ttname"><a href="structnand__page.html#ac238873d503e6fd6530f43b784019dfc">nand_page::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> ftl.h:94</div></div>
<div class="ttc" id="aftl_8c_html_a0299da5e7e5dd1eb868d80914de35ee8"><div class="ttname"><a href="ftl_8c.html#a0299da5e7e5dd1eb868d80914de35ee8">ssd_advance_status</a></div><div class="ttdeci">static uint64_t ssd_advance_status(struct ssd *ssd, struct ppa *ppa, struct nand_cmd *ncmd)</div><div class="ttdoc">根据操作类型，给出模拟的时延</div><div class="ttdef"><b>Definition:</b> ftl.c:540</div></div>
<div class="ttc" id="astructssdparams_html_a8ec920f02aa51d4158e7946e81732645"><div class="ttname"><a href="structssdparams.html#a8ec920f02aa51d4158e7946e81732645">ssdparams::tt_luns</a></div><div class="ttdeci">int tt_luns</div><div class="ttdef"><b>Definition:</b> ftl.h:191</div></div>
<div class="ttc" id="aftl_8h_html_a7ba0ef88759dc996af5fba61bc232cd9"><div class="ttname"><a href="ftl_8h.html#a7ba0ef88759dc996af5fba61bc232cd9">CH_BITS</a></div><div class="ttdeci">#define CH_BITS</div><div class="ttdef"><b>Definition:</b> ftl.h:63</div></div>
<div class="ttc" id="aftl_8c_html_a96c1b582459f3ccfc0643bac1a8cdf35"><div class="ttname"><a href="ftl_8c.html#a96c1b582459f3ccfc0643bac1a8cdf35">ssd_init_params</a></div><div class="ttdeci">static void ssd_init_params(struct ssdparams *spp)</div><div class="ttdoc">设置nand大小/并行参数，做相关计算</div><div class="ttdef"><b>Definition:</b> ftl.c:300</div></div>
<div class="ttc" id="astructNvmeRequest_html_ad267c178ee13ebb285604043925b5e78"><div class="ttname"><a href="structNvmeRequest.html#ad267c178ee13ebb285604043925b5e78">NvmeRequest::stime</a></div><div class="ttdeci">int64_t stime</div><div class="ttdoc">io开始时间</div><div class="ttdef"><b>Definition:</b> nvme.h:987</div></div>
<div class="ttc" id="aftl_8c_html_a92e6cdd7677ef48c1830b6fbba09a28a"><div class="ttname"><a href="ftl_8c.html#a92e6cdd7677ef48c1830b6fbba09a28a">get_rmap_ent</a></div><div class="ttdeci">static uint64_t get_rmap_ent(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdef"><b>Definition:</b> ftl.c:71</div></div>
<div class="ttc" id="aftl_8c_html_a2c41ad05315023bfa77846568e4f7282"><div class="ttname"><a href="ftl_8c.html#a2c41ad05315023bfa77846568e4f7282">mark_line_free</a></div><div class="ttdeci">static void mark_line_free(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdoc">将该line加入空闲line队列</div><div class="ttdef"><b>Definition:</b> ftl.c:847</div></div>
<div class="ttc" id="astructssdparams_html_a1bccb207bbd6aeca6c7b5fef5d530f6d"><div class="ttname"><a href="structssdparams.html#a1bccb207bbd6aeca6c7b5fef5d530f6d">ssdparams::gc_thres_lines</a></div><div class="ttdeci">int gc_thres_lines</div><div class="ttdef"><b>Definition:</b> ftl.h:162</div></div>
<div class="ttc" id="anvme-util_8c_html_a9e84e8328646dcb1f24be9c79018e6a0"><div class="ttname"><a href="nvme-util_8c.html#a9e84e8328646dcb1f24be9c79018e6a0">nvme_set_ctrl_name</a></div><div class="ttdeci">void nvme_set_ctrl_name(FemuCtrl *n, const char *mn, const char *sn, int *dev_id)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:294</div></div>
<div class="ttc" id="astructline__mgmt_html_a9ca7398b8eddca574a52bcae7f8e3804"><div class="ttname"><a href="structline__mgmt.html#a9ca7398b8eddca574a52bcae7f8e3804">line_mgmt::QTAILQ_HEAD</a></div><div class="ttdeci">QTAILQ_HEAD(free_line_list, line) free_line_list</div></div>
<div class="ttc" id="astructssdparams_html_ac1f4590960563c5d35826fae5062ab3c"><div class="ttname"><a href="structssdparams.html#ac1f4590960563c5d35826fae5062ab3c">ssdparams::secs_per_pl</a></div><div class="ttdeci">int secs_per_pl</div><div class="ttdef"><b>Definition:</b> ftl.h:169</div></div>
<div class="ttc" id="astructFemuCtrl_html_a252a9c514e961fa6355b50061862bd34"><div class="ttname"><a href="structFemuCtrl.html#a252a9c514e961fa6355b50061862bd34">FemuCtrl::nr_tt_ios</a></div><div class="ttdeci">int64_t nr_tt_ios</div><div class="ttdoc">总io数量</div><div class="ttdef"><b>Definition:</b> nvme.h:1332</div></div>
<div class="ttc" id="aftl_8h_html_a99fb83031ce9923c84392b4e92f956b5a0d5f318c3fc765bc802353b6cc599214"><div class="ttname"><a href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a0d5f318c3fc765bc802353b6cc599214">PG_FREE</a></div><div class="ttdeci">@ PG_FREE</div><div class="ttdef"><b>Definition:</b> ftl.h:40</div></div>
<div class="ttc" id="astructppa_html_a627815618e543bfecc85c0270b2627f8"><div class="ttname"><a href="structppa.html#a627815618e543bfecc85c0270b2627f8">ppa::blk</a></div><div class="ttdeci">uint64_t blk</div><div class="ttdef"><b>Definition:</b> ftl.h:72</div></div>
<div class="ttc" id="aftl_8h_html_ae78ff7bb5a99b8a8ac5fc3c82e0ca403"><div class="ttname"><a href="ftl_8h.html#ae78ff7bb5a99b8a8ac5fc3c82e0ca403">ftl_err</a></div><div class="ttdeci">#define ftl_err(fmt,...)</div><div class="ttdef"><b>Definition:</b> ftl.h:273</div></div>
<div class="ttc" id="astructnand__page_html_a07a35cddc22d7c84ced03c17b23ed244"><div class="ttname"><a href="structnand__page.html#a07a35cddc22d7c84ced03c17b23ed244">nand_page::nsecs</a></div><div class="ttdeci">int nsecs</div><div class="ttdef"><b>Definition:</b> ftl.h:93</div></div>
<div class="ttc" id="astructssd_html_a8724ca69d768471877affbeadbe3c244"><div class="ttname"><a href="structssd.html#a8724ca69d768471877affbeadbe3c244">ssd::ssdname</a></div><div class="ttdeci">char * ssdname</div><div class="ttdef"><b>Definition:</b> ftl.h:248</div></div>
<div class="ttc" id="astructnand__block_html_a89ec2fe3aff210edec30210b24dd2039"><div class="ttname"><a href="structnand__block.html#a89ec2fe3aff210edec30210b24dd2039">nand_block::vpc</a></div><div class="ttdeci">int vpc</div><div class="ttdef"><b>Definition:</b> ftl.h:105</div></div>
<div class="ttc" id="astructrte__ring_html"><div class="ttname"><a href="structrte__ring.html">rte_ring</a></div><div class="ttdef"><b>Definition:</b> rte_ring.h:127</div></div>
<div class="ttc" id="aftl_8c_html_ae5f2680b1c6531f6394723c150f11e1c"><div class="ttname"><a href="ftl_8c.html#ae5f2680b1c6531f6394723c150f11e1c">select_victim_line</a></div><div class="ttdeci">static struct line * select_victim_line(struct ssd *ssd, bool force)</div><div class="ttdoc">为gc选择一个victim line，优先队列中出队即可</div><div class="ttdef"><b>Definition:</b> ftl.c:790</div></div>
<div class="ttc" id="astructssdparams_html_a82ef103d290bc47db0a2ee5a309b943c"><div class="ttname"><a href="structssdparams.html#a82ef103d290bc47db0a2ee5a309b943c">ssdparams::blks_per_line</a></div><div class="ttdeci">int blks_per_line</div><div class="ttdef"><b>Definition:</b> ftl.h:185</div></div>
<div class="ttc" id="apqueue_8h_html_addd8cdfbc8c47b8cdd7eb4c4560de7aa"><div class="ttname"><a href="pqueue_8h.html#addd8cdfbc8c47b8cdd7eb4c4560de7aa">pqueue_insert</a></div><div class="ttdeci">int pqueue_insert(pqueue_t *q, void *d)</div><div class="ttdef"><b>Definition:</b> pqueue.c:122</div></div>
<div class="ttc" id="aftl_8c_html_a3c491d1c863f0b3501bd668a59dec976"><div class="ttname"><a href="ftl_8c.html#a3c491d1c863f0b3501bd668a59dec976">victim_line_get_pos</a></div><div class="ttdeci">static size_t victim_line_get_pos(void *a)</div><div class="ttdef"><b>Definition:</b> ftl.c:107</div></div>
<div class="ttc" id="abb_8c_html_a5d1e86a5f61a1db5c15dae757b35a5c3"><div class="ttname"><a href="bb_8c.html#a5d1e86a5f61a1db5c15dae757b35a5c3">bb_flip</a></div><div class="ttdeci">static void bb_flip(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdoc">blackbox自定义admin命令</div><div class="ttdef"><b>Definition:</b> bb.c:38</div></div>
<div class="ttc" id="astructppa_html_a2b5af16973594981a998ae3328eac8f7"><div class="ttname"><a href="structppa.html#a2b5af16973594981a998ae3328eac8f7">ppa::ch</a></div><div class="ttdeci">uint64_t ch</div><div class="ttdef"><b>Definition:</b> ftl.h:77</div></div>
<div class="ttc" id="aftl_8h_html_a99fb83031ce9923c84392b4e92f956b5a0e097dee01398d3ab6e7f4382cabc33f"><div class="ttname"><a href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a0e097dee01398d3ab6e7f4382cabc33f">SEC_VALID</a></div><div class="ttdeci">@ SEC_VALID</div><div class="ttdef"><b>Definition:</b> ftl.h:38</div></div>
<div class="ttc" id="astructnand__cmd_html_a364c052be48202ede06e883e4b120409"><div class="ttname"><a href="structnand__cmd.html#a364c052be48202ede06e883e4b120409">nand_cmd::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> ftl.h:238</div></div>
<div class="ttc" id="astructssdparams_html_a7cd0ad9e577e097738e4bcd6882de2e0"><div class="ttname"><a href="structssdparams.html#a7cd0ad9e577e097738e4bcd6882de2e0">ssdparams::tt_blks</a></div><div class="ttdeci">int tt_blks</div><div class="ttdef"><b>Definition:</b> ftl.h:181</div></div>
<div class="ttc" id="astructwrite__pointer_html_adf3acc53d295719babbd39458dddaa66"><div class="ttname"><a href="structwrite__pointer.html#adf3acc53d295719babbd39458dddaa66">write_pointer::ch</a></div><div class="ttdeci">int ch</div><div class="ttdef"><b>Definition:</b> ftl.h:213</div></div>
<div class="ttc" id="aftl_8c_html_a6e8a2a542e569fe2662cbb8cf647590b"><div class="ttname"><a href="ftl_8c.html#a6e8a2a542e569fe2662cbb8cf647590b">mapped_ppa</a></div><div class="ttdeci">static bool mapped_ppa(struct ppa *ppa)</div><div class="ttdef"><b>Definition:</b> ftl.c:493</div></div>
<div class="ttc" id="astructnand__lun_html_a8f95b70bcd5720c7b081af37dbd3fc70"><div class="ttname"><a href="structnand__lun.html#a8f95b70bcd5720c7b081af37dbd3fc70">nand_lun::npls</a></div><div class="ttdeci">int npls</div><div class="ttdef"><b>Definition:</b> ftl.h:125</div></div>
<div class="ttc" id="astructssdparams_html_aaafec0385f6c9c34b05be63526644c5a"><div class="ttname"><a href="structssdparams.html#aaafec0385f6c9c34b05be63526644c5a">ssdparams::blks_per_pl</a></div><div class="ttdeci">int blks_per_pl</div><div class="ttdef"><b>Definition:</b> ftl.h:151</div></div>
<div class="ttc" id="astructnand__block_html_a8629bef6da40ace33902c884d6b0127c"><div class="ttname"><a href="structnand__block.html#a8629bef6da40ace33902c884d6b0127c">nand_block::erase_cnt</a></div><div class="ttdeci">int erase_cnt</div><div class="ttdef"><b>Definition:</b> ftl.h:106</div></div>
<div class="ttc" id="astructssd_html_af5ac3e7f4169f686b1279f054413e84f"><div class="ttname"><a href="structssd.html#af5ac3e7f4169f686b1279f054413e84f">ssd::to_poller</a></div><div class="ttdeci">struct rte_ring ** to_poller</div><div class="ttdoc">存放完成的req，交给nvme线程</div><div class="ttdef"><b>Definition:</b> ftl.h:258</div></div>
<div class="ttc" id="astructssdparams_html_a618e42c61c1487fbe274ecc9d8b47e26"><div class="ttname"><a href="structssdparams.html#a618e42c61c1487fbe274ecc9d8b47e26">ssdparams::pgs_per_ch</a></div><div class="ttdeci">int pgs_per_ch</div><div class="ttdef"><b>Definition:</b> ftl.h:176</div></div>
<div class="ttc" id="abb_8c_html_a5b8b300920ee99be86c5e3e80a6f7949"><div class="ttname"><a href="bb_8c.html#a5b8b300920ee99be86c5e3e80a6f7949">nvme_register_bbssd</a></div><div class="ttdeci">int nvme_register_bbssd(FemuCtrl *n)</div><div class="ttdoc">注册blackbox相关函数</div><div class="ttdef"><b>Definition:</b> bb.c:145</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04adf250553fb54f027925e4dab5f92fa3a"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04adf250553fb54f027925e4dab5f92fa3a">FEMU_DISABLE_DELAY_EMU</a></div><div class="ttdeci">@ FEMU_DISABLE_DELAY_EMU</div><div class="ttdef"><b>Definition:</b> ftl.h:50</div></div>
<div class="ttc" id="aftl_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba064c38a00639099031cda82711a5ac5d"><div class="ttname"><a href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba064c38a00639099031cda82711a5ac5d">NAND_READ</a></div><div class="ttdeci">@ NAND_READ</div><div class="ttdef"><b>Definition:</b> ftl.h:21</div></div>
<div class="ttc" id="astructssdparams_html_ab072044ad8c0107835464ba876b618f2"><div class="ttname"><a href="structssdparams.html#ab072044ad8c0107835464ba876b618f2">ssdparams::enable_gc_delay</a></div><div class="ttdeci">bool enable_gc_delay</div><div class="ttdef"><b>Definition:</b> ftl.h:165</div></div>
<div class="ttc" id="astructpqueue__t_html"><div class="ttname"><a href="structpqueue__t.html">pqueue_t</a></div><div class="ttdef"><b>Definition:</b> pqueue.h:54</div></div>
<div class="ttc" id="astructnand__lun_html_ae64d00bf7f1ed056065e1a6c91898473"><div class="ttname"><a href="structnand__lun.html#ae64d00bf7f1ed056065e1a6c91898473">nand_lun::pl</a></div><div class="ttdeci">struct nand_plane * pl</div><div class="ttdef"><b>Definition:</b> ftl.h:124</div></div>
<div class="ttc" id="abb_8c_html_a3b0eb3030af1311ad77c85da413a32d8"><div class="ttname"><a href="bb_8c.html#a3b0eb3030af1311ad77c85da413a32d8">bb_nvme_rw</a></div><div class="ttdeci">static uint16_t bb_nvme_rw(FemuCtrl *n, NvmeNamespace *ns, NvmeCmd *cmd, NvmeRequest *req)</div><div class="ttdoc">blackbox 读写命令</div><div class="ttdef"><b>Definition:</b> bb.c:94</div></div>
<div class="ttc" id="aftl_8c_html_aa555ec9dcfe762eb6c39afa3cb167e3d"><div class="ttname"><a href="ftl_8c.html#aa555ec9dcfe762eb6c39afa3cb167e3d">check_params</a></div><div class="ttdeci">static void check_params(struct ssdparams *spp)</div><div class="ttdef"><b>Definition:</b> ftl.c:284</div></div>
<div class="ttc" id="astructssdparams_html_a7ff91681af50eb844c9c5e80d0081e56"><div class="ttname"><a href="structssdparams.html#a7ff91681af50eb844c9c5e80d0081e56">ssdparams::secs_per_ch</a></div><div class="ttdeci">int secs_per_ch</div><div class="ttdef"><b>Definition:</b> ftl.h:171</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a4dc74fd4c46787b0858f51e424333548"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a4dc74fd4c46787b0858f51e424333548">FEMU_DISABLE_GC_DELAY</a></div><div class="ttdeci">@ FEMU_DISABLE_GC_DELAY</div><div class="ttdef"><b>Definition:</b> ftl.h:47</div></div>
<div class="ttc" id="aftl_8c_html_a6d8917709dbdb441c13fc5d6ee5204aa"><div class="ttname"><a href="ftl_8c.html#a6d8917709dbdb441c13fc5d6ee5204aa">victim_line_set_pri</a></div><div class="ttdeci">static void victim_line_set_pri(void *a, pqueue_pri_t pri)</div><div class="ttdef"><b>Definition:</b> ftl.c:102</div></div>
<div class="ttc" id="astructline_html_aeefab665d811bfabfdaca326ab72e79c"><div class="ttname"><a href="structline.html#aeefab665d811bfabfdaca326ab72e79c">line::vpc</a></div><div class="ttdeci">int vpc</div><div class="ttdef"><b>Definition:</b> ftl.h:201</div></div>
<div class="ttc" id="astructnand__plane_html"><div class="ttname"><a href="structnand__plane.html">nand_plane</a></div><div class="ttdoc">plane</div><div class="ttdef"><b>Definition:</b> ftl.h:114</div></div>
<div class="ttc" id="aftl_8c_html_ac6428955c80a1fb3371e13b2b2f4ea26"><div class="ttname"><a href="ftl_8c.html#ac6428955c80a1fb3371e13b2b2f4ea26">ssd_init_nand_plane</a></div><div class="ttdeci">static void ssd_init_nand_plane(struct nand_plane *pl, struct ssdparams *spp)</div><div class="ttdef"><b>Definition:</b> ftl.c:375</div></div>
<div class="ttc" id="abb_8c_html_a3fc7384f815cca2f52003206b20324df"><div class="ttname"><a href="bb_8c.html#a3fc7384f815cca2f52003206b20324df">bb_init</a></div><div class="ttdeci">static void bb_init(FemuCtrl *n, Error **errp)</div><div class="ttdef"><b>Definition:</b> bb.c:20</div></div>
<div class="ttc" id="aftl_8c_html_a2db76f519a8218ea9cda35e61552a4ec"><div class="ttname"><a href="ftl_8c.html#a2db76f519a8218ea9cda35e61552a4ec">get_new_page</a></div><div class="ttdeci">static struct ppa get_new_page(struct ssd *ssd)</div><div class="ttdoc">获取新的page（wpp已经更新，取其指向的page地址即可）</div><div class="ttdef"><b>Definition:</b> ftl.c:269</div></div>
<div class="ttc" id="aftl_8c_html_a358979ad49087b2f21ead4eb9a153f14"><div class="ttname"><a href="ftl_8c.html#a358979ad49087b2f21ead4eb9a153f14">ssd_init_maptbl</a></div><div class="ttdeci">static void ssd_init_maptbl(struct ssd *ssd)</div><div class="ttdef"><b>Definition:</b> ftl.c:406</div></div>
<div class="ttc" id="astructssdparams_html_a8e1e0e577c9c04b4c10d3d25cbf6957b"><div class="ttname"><a href="structssdparams.html#a8e1e0e577c9c04b4c10d3d25cbf6957b">ssdparams::secs_per_line</a></div><div class="ttdeci">int secs_per_line</div><div class="ttdef"><b>Definition:</b> ftl.h:183</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7">NVME_INVALID_OPCODE</a></div><div class="ttdeci">@ NVME_INVALID_OPCODE</div><div class="ttdef"><b>Definition:</b> nvme.h:527</div></div>
<div class="ttc" id="astructnand__page_html"><div class="ttname"><a href="structnand__page.html">nand_page</a></div><div class="ttdoc">页</div><div class="ttdef"><b>Definition:</b> ftl.h:91</div></div>
<div class="ttc" id="astructssdparams_html_a3f75f55bbbf319375cc45dcf2daaaca4"><div class="ttname"><a href="structssdparams.html#a3f75f55bbbf319375cc45dcf2daaaca4">ssdparams::gc_thres_pcent</a></div><div class="ttdeci">double gc_thres_pcent</div><div class="ttdef"><b>Definition:</b> ftl.h:161</div></div>
<div class="ttc" id="aftl_8h_html_ab31967eedd3ea866167c7e23a5940c4e"><div class="ttname"><a href="ftl_8h.html#ab31967eedd3ea866167c7e23a5940c4e">LUN_BITS</a></div><div class="ttdeci">#define LUN_BITS</div><div class="ttdef"><b>Definition:</b> ftl.h:62</div></div>
<div class="ttc" id="aftl_8c_html_a0b6eca1c9bf137587f4c3c7aed0ea914"><div class="ttname"><a href="ftl_8c.html#a0b6eca1c9bf137587f4c3c7aed0ea914">check_addr</a></div><div class="ttdeci">static void check_addr(int a, int max)</div><div class="ttdef"><b>Definition:</b> ftl.c:179</div></div>
<div class="ttc" id="astructssdparams_html_acd04d8260ca1b86005ccc56307105b23"><div class="ttname"><a href="structssdparams.html#acd04d8260ca1b86005ccc56307105b23">ssdparams::tt_lines</a></div><div class="ttdeci">int tt_lines</div><div class="ttdef"><b>Definition:</b> ftl.h:186</div></div>
<div class="ttc" id="astructFemuCtrl_html_a8da82e5488952cf964ffcb40f29e4f7a"><div class="ttname"><a href="structFemuCtrl.html#a8da82e5488952cf964ffcb40f29e4f7a">FemuCtrl::nr_tt_late_ios</a></div><div class="ttdeci">int64_t nr_tt_late_ios</div><div class="ttdoc">没有按预计时延（超时）返回的io数量</div><div class="ttdef"><b>Definition:</b> nvme.h:1333</div></div>
<div class="ttc" id="astructssdparams_html_ac3f5ee9f571fe392380d5b0e16bab09b"><div class="ttname"><a href="structssdparams.html#ac3f5ee9f571fe392380d5b0e16bab09b">ssdparams::secs_per_lun</a></div><div class="ttdeci">int secs_per_lun</div><div class="ttdef"><b>Definition:</b> ftl.h:170</div></div>
<div class="ttc" id="astructline_html"><div class="ttname"><a href="structline.html">line</a></div><div class="ttdoc">line</div><div class="ttdef"><b>Definition:</b> ftl.h:198</div></div>
<div class="ttc" id="aftl_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba159b99876b55d2052590c66614f18e06"><div class="ttname"><a href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba159b99876b55d2052590c66614f18e06">NAND_READ_LATENCY</a></div><div class="ttdeci">@ NAND_READ_LATENCY</div><div class="ttdef"><b>Definition:</b> ftl.h:25</div></div>
<div class="ttc" id="arte__ring_8h_html_a3afc06d02f63e84fe1569c99955af57a"><div class="ttname"><a href="rte__ring_8h.html#a3afc06d02f63e84fe1569c99955af57a">femu_ring_enqueue</a></div><div class="ttdeci">size_t femu_ring_enqueue(struct rte_ring *ring, void **objs, size_t count)</div><div class="ttdef"><b>Definition:</b> rte_ring.c:223</div></div>
<div class="ttc" id="aftl_8h_html_aed1bbdc2f5620a4e59bee553c2cdd5fb"><div class="ttname"><a href="ftl_8h.html#aed1bbdc2f5620a4e59bee553c2cdd5fb">line</a></div><div class="ttdeci">struct line line</div><div class="ttdoc">line</div></div>
<div class="ttc" id="astructssdparams_html_a46af9099347b346ed63fd642df5a2262"><div class="ttname"><a href="structssdparams.html#a46af9099347b346ed63fd642df5a2262">ssdparams::blks_per_ch</a></div><div class="ttdeci">int blks_per_ch</div><div class="ttdef"><b>Definition:</b> ftl.h:180</div></div>
<div class="ttc" id="astructssd__channel_html_ad3796afe284a6e0a1980e4f1c0ab291d"><div class="ttname"><a href="structssd__channel.html#ad3796afe284a6e0a1980e4f1c0ab291d">ssd_channel::busy</a></div><div class="ttdeci">bool busy</div><div class="ttdef"><b>Definition:</b> ftl.h:139</div></div>
<div class="ttc" id="astructline_html_a089ed2a089e88d1421b88830d98561c2"><div class="ttname"><a href="structline.html#a089ed2a089e88d1421b88830d98561c2">line::pos</a></div><div class="ttdeci">size_t pos</div><div class="ttdef"><b>Definition:</b> ftl.h:204</div></div>
<div class="ttc" id="astructnand__block_html"><div class="ttname"><a href="structnand__block.html">nand_block</a></div><div class="ttdoc">块</div><div class="ttdef"><b>Definition:</b> ftl.h:101</div></div>
<div class="ttc" id="aftl_8h_html_a99fb83031ce9923c84392b4e92f956b5ae15fc2b67b2402b6f167ecccafbbecd2"><div class="ttname"><a href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5ae15fc2b67b2402b6f167ecccafbbecd2">PG_VALID</a></div><div class="ttdeci">@ PG_VALID</div><div class="ttdef"><b>Definition:</b> ftl.h:42</div></div>
<div class="ttc" id="astructssdparams_html_ad72919d3040d8ba48758f0e276aea4ad"><div class="ttname"><a href="structssdparams.html#ad72919d3040d8ba48758f0e276aea4ad">ssdparams::gc_thres_lines_high</a></div><div class="ttdeci">int gc_thres_lines_high</div><div class="ttdef"><b>Definition:</b> ftl.h:164</div></div>
<div class="ttc" id="aftl_8c_html_ae77b0af37a85b3285ff26402ca7d03a5"><div class="ttname"><a href="ftl_8c.html#ae77b0af37a85b3285ff26402ca7d03a5">ssd_init_nand_lun</a></div><div class="ttdeci">static void ssd_init_nand_lun(struct nand_lun *lun, struct ssdparams *spp)</div><div class="ttdef"><b>Definition:</b> ftl.c:384</div></div>
<div class="ttc" id="astructFemuCtrl_html_a4464c81978268e5df515d91044ea1ec2"><div class="ttname"><a href="structFemuCtrl.html#a4464c81978268e5df515d91044ea1ec2">FemuCtrl::ssd</a></div><div class="ttdeci">struct ssd * ssd</div><div class="ttdoc">指向模拟的ssd</div><div class="ttdef"><b>Definition:</b> nvme.h:1321</div></div>
<div class="ttc" id="aftl_8c_html_ab02c4873ff387abfd6f268ae711fd0b5"><div class="ttname"><a href="ftl_8c.html#ab02c4873ff387abfd6f268ae711fd0b5">set_maptbl_ent</a></div><div class="ttdeci">static void set_maptbl_ent(struct ssd *ssd, uint64_t lpn, struct ppa *ppa)</div><div class="ttdoc">赋值一个page映射表项</div><div class="ttdef"><b>Definition:</b> ftl.c:49</div></div>
<div class="ttc" id="astructnand__block_html_a424007f74aa840dea80296224af39d8d"><div class="ttname"><a href="structnand__block.html#a424007f74aa840dea80296224af39d8d">nand_block::wp</a></div><div class="ttdeci">int wp</div><div class="ttdef"><b>Definition:</b> ftl.h:107</div></div>
<div class="ttc" id="astructnand__cmd_html"><div class="ttname"><a href="structnand__cmd.html">nand_cmd</a></div><div class="ttdef"><b>Definition:</b> ftl.h:237</div></div>
<div class="ttc" id="astructline__mgmt_html_a871cace77a18047bec4e8bb62524321e"><div class="ttname"><a href="structline__mgmt.html#a871cace77a18047bec4e8bb62524321e">line_mgmt::tt_lines</a></div><div class="ttdeci">int tt_lines</div><div class="ttdef"><b>Definition:</b> ftl.h:231</div></div>
<div class="ttc" id="astructline__mgmt_html_a8ebebc34bbd4abeb8fdad4457042ad3b"><div class="ttname"><a href="structline__mgmt.html#a8ebebc34bbd4abeb8fdad4457042ad3b">line_mgmt::full_line_cnt</a></div><div class="ttdeci">int full_line_cnt</div><div class="ttdef"><b>Definition:</b> ftl.h:234</div></div>
<div class="ttc" id="astructwrite__pointer_html_a685331c5878278ccaf80c3672ce73f7c"><div class="ttname"><a href="structwrite__pointer.html#a685331c5878278ccaf80c3672ce73f7c">write_pointer::pl</a></div><div class="ttdeci">int pl</div><div class="ttdef"><b>Definition:</b> ftl.h:217</div></div>
<div class="ttc" id="astructNvmeCmd_html_ab217950fc2408f7a848af10f36b0cd8f"><div class="ttname"><a href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">NvmeCmd::cdw10</a></div><div class="ttdeci">uint32_t cdw10</div><div class="ttdef"><b>Definition:</b> nvme.h:306</div></div>
<div class="ttc" id="astructnand__block_html_a8670e24bc47c15366be8fe4c238a2922"><div class="ttname"><a href="structnand__block.html#a8670e24bc47c15366be8fe4c238a2922">nand_block::pg</a></div><div class="ttdeci">struct nand_page * pg</div><div class="ttdef"><b>Definition:</b> ftl.h:102</div></div>
<div class="ttc" id="astructNvmeCmd_html_a2751bc2a772082d3af81124a1d120a0c"><div class="ttname"><a href="structNvmeCmd.html#a2751bc2a772082d3af81124a1d120a0c">NvmeCmd::opcode</a></div><div class="ttdeci">uint16_t opcode</div><div class="ttdef"><b>Definition:</b> nvme.h:297</div></div>
<div class="ttc" id="aftl_8c_html_a9417ce02aa098194c92e57ef04abb6b7"><div class="ttname"><a href="ftl_8c.html#a9417ce02aa098194c92e57ef04abb6b7">victim_line_get_pri</a></div><div class="ttdeci">static pqueue_pri_t victim_line_get_pri(void *a)</div><div class="ttdef"><b>Definition:</b> ftl.c:97</div></div>
<div class="ttc" id="astructssd_html_ae49bd8bfc26a6a8f1a992d84e0cc862c"><div class="ttname"><a href="structssd.html#ae49bd8bfc26a6a8f1a992d84e0cc862c">ssd::rmap</a></div><div class="ttdeci">uint64_t * rmap</div><div class="ttdoc">反向映射表, assume it's stored in OOB</div><div class="ttdef"><b>Definition:</b> ftl.h:252</div></div>
<div class="ttc" id="astructssdparams_html_a853908a359571730e9f08e808eec2281"><div class="ttname"><a href="structssdparams.html#a853908a359571730e9f08e808eec2281">ssdparams::tt_pgs</a></div><div class="ttdeci">int tt_pgs</div><div class="ttdef"><b>Definition:</b> ftl.h:177</div></div>
<div class="ttc" id="astructnand__lun_html"><div class="ttname"><a href="structnand__lun.html">nand_lun</a></div><div class="ttdoc">晶圆</div><div class="ttdef"><b>Definition:</b> ftl.h:123</div></div>
<div class="ttc" id="astructFemuCtrl_html_a0ff7c6d5e0e6313cc66e2d62f4e98221"><div class="ttname"><a href="structFemuCtrl.html#a0ff7c6d5e0e6313cc66e2d62f4e98221">FemuCtrl::to_ftl</a></div><div class="ttdeci">struct rte_ring ** to_ftl</div><div class="ttdoc">生产者：nvme poller；消费者：ftl</div><div class="ttdef"><b>Definition:</b> nvme.h:1326</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a248ee6337f9fc0e6380d2407c6fde5f4"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a248ee6337f9fc0e6380d2407c6fde5f4">FEMU_ENABLE_LOG</a></div><div class="ttdeci">@ FEMU_ENABLE_LOG</div><div class="ttdef"><b>Definition:</b> ftl.h:53</div></div>
<div class="ttc" id="aftl_8c_html_a6722c643872772d48598187782365209"><div class="ttname"><a href="ftl_8c.html#a6722c643872772d48598187782365209">should_gc</a></div><div class="ttdeci">static bool should_gc(struct ssd *ssd)</div><div class="ttdoc">空闲gc阈值</div><div class="ttdef"><b>Definition:</b> ftl.c:20</div></div>
<div class="ttc" id="apqueue_8h_html_a2919d3e817688b81da746d4123f51ba3"><div class="ttname"><a href="pqueue_8h.html#a2919d3e817688b81da746d4123f51ba3">pqueue_peek</a></div><div class="ttdeci">void * pqueue_peek(pqueue_t *q)</div><div class="ttdef"><b>Definition:</b> pqueue.c:186</div></div>
<div class="ttc" id="astructline_html_a7ddd1d1c2be2ce5467a30c30c9a989bd"><div class="ttname"><a href="structline.html#a7ddd1d1c2be2ce5467a30c30c9a989bd">line::ipc</a></div><div class="ttdeci">int ipc</div><div class="ttdef"><b>Definition:</b> ftl.h:200</div></div>
<div class="ttc" id="aftl_8h_html_af7812108ff2c661fde06cf328637f96c"><div class="ttname"><a href="ftl_8h.html#af7812108ff2c661fde06cf328637f96c">nand_sec_status_t</a></div><div class="ttdeci">int nand_sec_status_t</div><div class="ttdef"><b>Definition:</b> ftl.h:85</div></div>
<div class="ttc" id="astructssdparams_html_a0eb0310790389b75f28a5b6dc272a2dc"><div class="ttname"><a href="structssdparams.html#a0eb0310790389b75f28a5b6dc272a2dc">ssdparams::secsz</a></div><div class="ttdeci">int secsz</div><div class="ttdef"><b>Definition:</b> ftl.h:148</div></div>
<div class="ttc" id="astructssdparams_html_a0a856000ec8d7d076eef4db2f1c4d87e"><div class="ttname"><a href="structssdparams.html#a0a856000ec8d7d076eef4db2f1c4d87e">ssdparams::pgs_per_lun</a></div><div class="ttdeci">int pgs_per_lun</div><div class="ttdef"><b>Definition:</b> ftl.h:175</div></div>
<div class="ttc" id="aftl_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a2dbf63358e7e23749bc4332d41ec31af"><div class="ttname"><a href="ftl_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a2dbf63358e7e23749bc4332d41ec31af">USER_IO</a></div><div class="ttdeci">@ USER_IO</div><div class="ttdef"><b>Definition:</b> ftl.h:31</div></div>
<div class="ttc" id="astructssd__channel_html_a11dd1bcafa099c1d41787aeac9730aea"><div class="ttname"><a href="structssd__channel.html#a11dd1bcafa099c1d41787aeac9730aea">ssd_channel::next_ch_avail_time</a></div><div class="ttdeci">uint64_t next_ch_avail_time</div><div class="ttdef"><b>Definition:</b> ftl.h:138</div></div>
<div class="ttc" id="aftl_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba473c2d5e1315210c6973d46d1a06d895"><div class="ttname"><a href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba473c2d5e1315210c6973d46d1a06d895">NAND_PROG_LATENCY</a></div><div class="ttdeci">@ NAND_PROG_LATENCY</div><div class="ttdef"><b>Definition:</b> ftl.h:26</div></div>
<div class="ttc" id="astructwrite__pointer_html"><div class="ttname"><a href="structwrite__pointer.html">write_pointer</a></div><div class="ttdoc">wp: record next write addr</div><div class="ttdef"><b>Definition:</b> ftl.h:211</div></div>
<div class="ttc" id="aftl_8c_html_a5b0fd3628f9c01d4151a9f849e03a6a8"><div class="ttname"><a href="ftl_8c.html#a5b0fd3628f9c01d4151a9f849e03a6a8">gc_write_page</a></div><div class="ttdeci">**param ssd *param old_ppa *return uint64_t *static uint64_t gc_write_page(struct ssd *ssd, struct ppa *old_ppa)</div><div class="ttdoc">gc产生的写</div><div class="ttdef"><b>Definition:</b> ftl.c:745</div></div>
<div class="ttc" id="astructnand__cmd_html_ac07e681b9811d160def06261529461c2"><div class="ttname"><a href="structnand__cmd.html#ac07e681b9811d160def06261529461c2">nand_cmd::cmd</a></div><div class="ttdeci">int cmd</div><div class="ttdef"><b>Definition:</b> ftl.h:239</div></div>
<div class="ttc" id="aftl_8c_html_a8610a939b22b60851e3b88e0137b7ede"><div class="ttname"><a href="ftl_8c.html#a8610a939b22b60851e3b88e0137b7ede">ssd_write</a></div><div class="ttdeci">static uint64_t ssd_write(struct ssd *ssd, NvmeRequest *req)</div><div class="ttdoc">ssd写延迟模拟</div><div class="ttdef"><b>Definition:</b> ftl.c:954</div></div>
<div class="ttc" id="astructnand__plane_html_a178c78d74aad32ee73f5101bbe5d3af0"><div class="ttname"><a href="structnand__plane.html#a178c78d74aad32ee73f5101bbe5d3af0">nand_plane::blk</a></div><div class="ttdeci">struct nand_block * blk</div><div class="ttdef"><b>Definition:</b> ftl.h:115</div></div>
<div class="ttc" id="astructFemuCtrl_html_ad818a28bdef83c4bb07c0d4f00942b06"><div class="ttname"><a href="structFemuCtrl.html#ad818a28bdef83c4bb07c0d4f00942b06">FemuCtrl::to_poller</a></div><div class="ttdeci">struct rte_ring ** to_poller</div><div class="ttdoc">生产者：ftl；消费者：nvme poller</div><div class="ttdef"><b>Definition:</b> nvme.h:1327</div></div>
<div class="ttc" id="astructssdparams_html_a102161652bd1f9143443bb42c583005d"><div class="ttname"><a href="structssdparams.html#a102161652bd1f9143443bb42c583005d">ssdparams::pls_per_lun</a></div><div class="ttdeci">int pls_per_lun</div><div class="ttdef"><b>Definition:</b> ftl.h:152</div></div>
<div class="ttc" id="astructppa_html_a4e4391ce777dced78c6bb4ccddaee837"><div class="ttname"><a href="structppa.html#a4e4391ce777dced78c6bb4ccddaee837">ppa::rsv</a></div><div class="ttdeci">uint64_t rsv</div><div class="ttdef"><b>Definition:</b> ftl.h:78</div></div>
<div class="ttc" id="aftl_8h_html_af3f6de830b620d1f3060c7de8c8ddec0"><div class="ttname"><a href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0">ssd_init</a></div><div class="ttdeci">void ssd_init(FemuCtrl *n)</div><div class="ttdoc">初始化ssd参数，为ssd各层结构体分配空间，创建ftl线程</div><div class="ttdef"><b>Definition:</b> ftl.c:431</div></div>
<div class="ttc" id="astructssdparams_html_a93143586362c365e97e39c4b544807ca"><div class="ttname"><a href="structssdparams.html#a93143586362c365e97e39c4b544807ca">ssdparams::secs_per_pg</a></div><div class="ttdeci">int secs_per_pg</div><div class="ttdef"><b>Definition:</b> ftl.h:149</div></div>
<div class="ttc" id="astructssdparams_html_ac2e75971628c7789c5b492a304a56053"><div class="ttname"><a href="structssdparams.html#ac2e75971628c7789c5b492a304a56053">ssdparams::pgs_per_blk</a></div><div class="ttdeci">int pgs_per_blk</div><div class="ttdef"><b>Definition:</b> ftl.h:150</div></div>
<div class="ttc" id="astructssdparams_html_abd6475e516ca9a5b1250d32c52853951"><div class="ttname"><a href="structssdparams.html#abd6475e516ca9a5b1250d32c52853951">ssdparams::pgs_per_pl</a></div><div class="ttdeci">int pgs_per_pl</div><div class="ttdef"><b>Definition:</b> ftl.h:174</div></div>
<div class="ttc" id="abb_8c_html_aeaee718de94247f9ea5dc15b03680329"><div class="ttname"><a href="bb_8c.html#aeaee718de94247f9ea5dc15b03680329">bb_init_ctrl_str</a></div><div class="ttdeci">static void bb_init_ctrl_str(FemuCtrl *n)</div><div class="ttdef"><b>Definition:</b> bb.c:10</div></div>
<div class="ttc" id="aftl_8h_html_ae75f0eba5aa21c83a6590b869a55d152"><div class="ttname"><a href="ftl_8h.html#ae75f0eba5aa21c83a6590b869a55d152">ftl_assert</a></div><div class="ttdeci">#define ftl_assert(expression)</div><div class="ttdef"><b>Definition:</b> ftl.h:284</div></div>
<div class="ttc" id="aftl_8c_html_af3f6de830b620d1f3060c7de8c8ddec0"><div class="ttname"><a href="ftl_8c.html#af3f6de830b620d1f3060c7de8c8ddec0">ssd_init</a></div><div class="ttdeci">void ssd_init(FemuCtrl *n)</div><div class="ttdoc">初始化ssd参数，为ssd各层结构体分配空间，创建ftl线程</div><div class="ttdef"><b>Definition:</b> ftl.c:431</div></div>
<div class="ttc" id="astructssdparams_html_a09e04352d7b5b2e8f9bb011a37204e3c"><div class="ttname"><a href="structssdparams.html#a09e04352d7b5b2e8f9bb011a37204e3c">ssdparams::pgs_per_line</a></div><div class="ttdeci">int pgs_per_line</div><div class="ttdef"><b>Definition:</b> ftl.h:184</div></div>
<div class="ttc" id="astructssdparams_html_ad1cdb78c795ddac6af6b213977a97719"><div class="ttname"><a href="structssdparams.html#ad1cdb78c795ddac6af6b213977a97719">ssdparams::tt_secs</a></div><div class="ttdeci">int tt_secs</div><div class="ttdef"><b>Definition:</b> ftl.h:172</div></div>
<div class="ttc" id="aftl_8h_html_a248c1448579e0c4579d0b52313995552"><div class="ttname"><a href="ftl_8h.html#a248c1448579e0c4579d0b52313995552">BLK_BITS</a></div><div class="ttdeci">#define BLK_BITS</div><div class="ttdef"><b>Definition:</b> ftl.h:58</div></div>
<div class="ttc" id="astructFemuExtCtrlOps_html_a5a0b55a8db93619bd96e347ed4c7a930"><div class="ttname"><a href="structFemuExtCtrlOps.html#a5a0b55a8db93619bd96e347ed4c7a930">FemuExtCtrlOps::state</a></div><div class="ttdeci">void * state</div><div class="ttdef"><b>Definition:</b> nvme.h:1170</div></div>
<div class="ttc" id="astructppa_html"><div class="ttname"><a href="structppa.html">ppa</a></div><div class="ttdoc">describe a physical page addr</div><div class="ttdef"><b>Definition:</b> ftl.h:69</div></div>
<div class="ttc" id="aftl_8c_html_a52df9249316530eb887e0412ca51f048"><div class="ttname"><a href="ftl_8c.html#a52df9249316530eb887e0412ca51f048">ssd_advance_write_pointer</a></div><div class="ttdeci">static void ssd_advance_write_pointer(struct ssd *ssd)</div><div class="ttdoc">写指针后移，每次写操作结束后调用</div><div class="ttdef"><b>Definition:</b> ftl.c:205</div></div>
<div class="ttc" id="aftl_8c_html_ab36d3c54cb8e6ef53588b549a5803172"><div class="ttname"><a href="ftl_8c.html#ab36d3c54cb8e6ef53588b549a5803172">victim_line_cmp_pri</a></div><div class="ttdeci">static int victim_line_cmp_pri(pqueue_pri_t next, pqueue_pri_t curr)</div><div class="ttdef"><b>Definition:</b> ftl.c:92</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6a13421e16e166f06ef616c86258232336"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a13421e16e166f06ef616c86258232336">NVME_CMD_READ</a></div><div class="ttdeci">@ NVME_CMD_READ</div><div class="ttdef"><b>Definition:</b> nvme.h:341</div></div>
<div class="ttc" id="aftl_8h_html_adee7fac1ed803808b8fb7ee9ffa785d2"><div class="ttname"><a href="ftl_8h.html#adee7fac1ed803808b8fb7ee9ffa785d2">ftl_debug</a></div><div class="ttdeci">#define ftl_debug(fmt,...)</div><div class="ttdef"><b>Definition:</b> ftl.h:269</div></div>
<div class="ttc" id="astructssdparams_html"><div class="ttname"><a href="structssdparams.html">ssdparams</a></div><div class="ttdoc">ssd参数</div><div class="ttdef"><b>Definition:</b> ftl.h:147</div></div>
<div class="ttc" id="astructFemuCtrl_html_a7c69e429f2da05dd6a0ecb4591c2c4fb"><div class="ttname"><a href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">FemuCtrl::devname</a></div><div class="ttdeci">char devname[64]</div><div class="ttdef"><b>Definition:</b> nvme.h:1325</div></div>
<div class="ttc" id="arte__ring_8h_html_a96ef17a77ac3deecdb8a1fb71b6bdf63"><div class="ttname"><a href="rte__ring_8h.html#a96ef17a77ac3deecdb8a1fb71b6bdf63">femu_ring_count</a></div><div class="ttdeci">size_t femu_ring_count(struct rte_ring *ring)</div><div class="ttdef"><b>Definition:</b> rte_ring.c:218</div></div>
<div class="ttc" id="astructNvmeRequest_html_a35d73ae4b2cd7c17e55d20320ac2b1ea"><div class="ttname"><a href="structNvmeRequest.html#a35d73ae4b2cd7c17e55d20320ac2b1ea">NvmeRequest::slba</a></div><div class="ttdeci">uint64_t slba</div><div class="ttdoc">开始lba</div><div class="ttdef"><b>Definition:</b> nvme.h:972</div></div>
<div class="ttc" id="abb_8c_html_afd2d6d40a801b554569b5c4c364f8df6"><div class="ttname"><a href="bb_8c.html#afd2d6d40a801b554569b5c4c364f8df6">bb_admin_cmd</a></div><div class="ttdeci">static uint16_t bb_admin_cmd(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdoc">blackbox admin命令</div><div class="ttdef"><b>Definition:</b> bb.c:128</div></div>
<div class="ttc" id="aftl_8c_html_a340d3d702f25d601cb40dbd85a30dd82"><div class="ttname"><a href="ftl_8c.html#a340d3d702f25d601cb40dbd85a30dd82">get_blk</a></div><div class="ttdeci">static struct nand_block * get_blk(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdef"><b>Definition:</b> ftl.c:515</div></div>
<div class="ttc" id="astructssdparams_html_a957528e972891b69b89040996b061527"><div class="ttname"><a href="structssdparams.html#a957528e972891b69b89040996b061527">ssdparams::secs_per_blk</a></div><div class="ttdeci">int secs_per_blk</div><div class="ttdef"><b>Definition:</b> ftl.h:168</div></div>
<div class="ttc" id="astructssd__channel_html_a8004398246e9bc2a7e48a71d1b58d90f"><div class="ttname"><a href="structssd__channel.html#a8004398246e9bc2a7e48a71d1b58d90f">ssd_channel::nluns</a></div><div class="ttdeci">int nluns</div><div class="ttdef"><b>Definition:</b> ftl.h:137</div></div>
<div class="ttc" id="astructnand__plane_html_a69781959f7bed3aca9a31a7d2560866a"><div class="ttname"><a href="structnand__plane.html#a69781959f7bed3aca9a31a7d2560866a">nand_plane::nblks</a></div><div class="ttdeci">int nblks</div><div class="ttdef"><b>Definition:</b> ftl.h:116</div></div>
<div class="ttc" id="astructnand__lun_html_acdcba71a2176a0bb94eba9bdb24b36fe"><div class="ttname"><a href="structnand__lun.html#acdcba71a2176a0bb94eba9bdb24b36fe">nand_lun::next_lun_avail_time</a></div><div class="ttdeci">uint64_t next_lun_avail_time</div><div class="ttdef"><b>Definition:</b> ftl.h:126</div></div>
<div class="ttc" id="aftl_8c_html_afd1c030b3a24f516a3eda967bb936f8d"><div class="ttname"><a href="ftl_8c.html#afd1c030b3a24f516a3eda967bb936f8d">ssd_init_nand_blk</a></div><div class="ttdeci">static void ssd_init_nand_blk(struct nand_block *blk, struct ssdparams *spp)</div><div class="ttdef"><b>Definition:</b> ftl.c:362</div></div>
<div class="ttc" id="astructssd_html_a2b0e9503ff5811ff40f5b426d137692e"><div class="ttname"><a href="structssd.html#a2b0e9503ff5811ff40f5b426d137692e">ssd::dataplane_started_ptr</a></div><div class="ttdeci">bool * dataplane_started_ptr</div><div class="ttdef"><b>Definition:</b> ftl.h:259</div></div>
<div class="ttc" id="aftl_8c_html_af93eee663d18640559cfd06afdeb5409"><div class="ttname"><a href="ftl_8c.html#af93eee663d18640559cfd06afdeb5409">get_maptbl_ent</a></div><div class="ttdeci">static struct ppa get_maptbl_ent(struct ssd *ssd, uint64_t lpn)</div><div class="ttdef"><b>Definition:</b> ftl.c:37</div></div>
<div class="ttc" id="astructwrite__pointer_html_aac27e9340ffc7900b39c57731fa61dc0"><div class="ttname"><a href="structwrite__pointer.html#aac27e9340ffc7900b39c57731fa61dc0">write_pointer::lun</a></div><div class="ttdeci">int lun</div><div class="ttdef"><b>Definition:</b> ftl.h:214</div></div>
<div class="ttc" id="aftl_8h_html_a99fb83031ce9923c84392b4e92f956b5a18899c0fb9b80bff766201be472a92ef"><div class="ttname"><a href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a18899c0fb9b80bff766201be472a92ef">SEC_INVALID</a></div><div class="ttdeci">@ SEC_INVALID</div><div class="ttdef"><b>Definition:</b> ftl.h:37</div></div>
<div class="ttc" id="astructline__mgmt_html_ade69f28e6b03baac256cd1646f95b3d8"><div class="ttname"><a href="structline__mgmt.html#ade69f28e6b03baac256cd1646f95b3d8">line_mgmt::victim_line_pq</a></div><div class="ttdeci">pqueue_t * victim_line_pq</div><div class="ttdef"><b>Definition:</b> ftl.h:228</div></div>
<div class="ttc" id="aftl_8c_html_adc3fd6a4f50d3279de8a77eb9d605a8d"><div class="ttname"><a href="ftl_8c.html#adc3fd6a4f50d3279de8a77eb9d605a8d">get_lun</a></div><div class="ttdeci">static struct nand_lun * get_lun(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdef"><b>Definition:</b> ftl.c:503</div></div>
<div class="ttc" id="astructFemuCtrl_html_a6291ffd43b13aa9c7bc871a7e1bb4a11"><div class="ttname"><a href="structFemuCtrl.html#a6291ffd43b13aa9c7bc871a7e1bb4a11">FemuCtrl::dataplane_started</a></div><div class="ttdeci">bool dataplane_started</div><div class="ttdef"><b>Definition:</b> nvme.h:1273</div></div>
<div class="ttc" id="astructNvmeRequest_html"><div class="ttname"><a href="structNvmeRequest.html">NvmeRequest</a></div><div class="ttdef"><b>Definition:</b> nvme.h:967</div></div>
<div class="ttc" id="aftl_8c_html_a37afec234fedd2c392569d5ce0af6cb4"><div class="ttname"><a href="ftl_8c.html#a37afec234fedd2c392569d5ce0af6cb4">ssd_init_write_pointer</a></div><div class="ttdeci">static void ssd_init_write_pointer(struct ssd *ssd)</div><div class="ttdoc">写指针初始化，指向0</div><div class="ttdef"><b>Definition:</b> ftl.c:160</div></div>
<div class="ttc" id="abb_8c_html_a86a2ad222c79ea1e3eb798c53f472908"><div class="ttname"><a href="bb_8c.html#a86a2ad222c79ea1e3eb798c53f472908">bb_io_cmd</a></div><div class="ttdeci">static uint16_t bb_io_cmd(FemuCtrl *n, NvmeNamespace *ns, NvmeCmd *cmd, NvmeRequest *req)</div><div class="ttdoc">blackbox io命令</div><div class="ttdef"><b>Definition:</b> bb.c:109</div></div>
<div class="ttc" id="aftl_8c_html_aa4643e6bbe68de1c047ec1d1745a82e3"><div class="ttname"><a href="ftl_8c.html#aa4643e6bbe68de1c047ec1d1745a82e3">ssd_init_ch</a></div><div class="ttdeci">static void ssd_init_ch(struct ssd_channel *ch, struct ssdparams *spp)</div><div class="ttdef"><b>Definition:</b> ftl.c:395</div></div>
<div class="ttc" id="astructline_html_aea4a6b372d188d62345ed68656fff577"><div class="ttname"><a href="structline.html#aea4a6b372d188d62345ed68656fff577">line::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> ftl.h:199</div></div>
<div class="ttc" id="astructline__mgmt_html_ab3da4f318464b294f5ad5179a0aa7b24"><div class="ttname"><a href="structline__mgmt.html#ab3da4f318464b294f5ad5179a0aa7b24">line_mgmt::free_line_cnt</a></div><div class="ttdeci">int free_line_cnt</div><div class="ttdef"><b>Definition:</b> ftl.h:232</div></div>
<div class="ttc" id="astructssd_html_a36c0adb782ca9d8a1accf3ec8d7455eb"><div class="ttname"><a href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">ssd::sp</a></div><div class="ttdeci">struct ssdparams sp</div><div class="ttdef"><b>Definition:</b> ftl.h:249</div></div>
<div class="ttc" id="astructnand__page_html_adc5fd9020df058246b2789b00f7f6609"><div class="ttname"><a href="structnand__page.html#adc5fd9020df058246b2789b00f7f6609">nand_page::sec</a></div><div class="ttdeci">nand_sec_status_t * sec</div><div class="ttdef"><b>Definition:</b> ftl.h:92</div></div>
<div class="ttc" id="astructssd_html_af1863ea3d676d7f2a9db127e2ced4c87"><div class="ttname"><a href="structssd.html#af1863ea3d676d7f2a9db127e2ced4c87">ssd::to_ftl</a></div><div class="ttdeci">struct rte_ring ** to_ftl</div><div class="ttdoc">无锁ring队列，用于接收nvme下传的req</div><div class="ttdef"><b>Definition:</b> ftl.h:257</div></div>
<div class="ttc" id="aftl_8h_html_a1ff9f42f3e3d46b878b713654eab99b7"><div class="ttname"><a href="ftl_8h.html#a1ff9f42f3e3d46b878b713654eab99b7">INVALID_LPN</a></div><div class="ttdeci">#define INVALID_LPN</div><div class="ttdef"><b>Definition:</b> ftl.h:13</div></div>
<div class="ttc" id="aftl_8h_html_a99fb83031ce9923c84392b4e92f956b5a46fea2e65406af489e63ac526c7553db"><div class="ttname"><a href="ftl_8h.html#a99fb83031ce9923c84392b4e92f956b5a46fea2e65406af489e63ac526c7553db">PG_INVALID</a></div><div class="ttdeci">@ PG_INVALID</div><div class="ttdef"><b>Definition:</b> ftl.h:41</div></div>
<div class="ttc" id="aftl_8c_html_ae4d530364d4008be453c27d200eacddf"><div class="ttname"><a href="ftl_8c.html#ae4d530364d4008be453c27d200eacddf">clean_one_block</a></div><div class="ttdeci">static void clean_one_block(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdoc">gc清理一个block，将有效页转移</div><div class="ttdef"><b>Definition:</b> ftl.c:819</div></div>
<div class="ttc" id="astructssd__channel_html_ae7490bb5b3c27acb4fd5c73fe4348979"><div class="ttname"><a href="structssd__channel.html#ae7490bb5b3c27acb4fd5c73fe4348979">ssd_channel::gc_endtime</a></div><div class="ttdeci">uint64_t gc_endtime</div><div class="ttdef"><b>Definition:</b> ftl.h:140</div></div>
<div class="ttc" id="aftl_8c_html_a4237c1400d2e5e24f32b77e347163ab9"><div class="ttname"><a href="ftl_8c.html#a4237c1400d2e5e24f32b77e347163ab9">valid_ppa</a></div><div class="ttdeci">static bool valid_ppa(struct ssd *ssd, struct ppa *ppa)</div><div class="ttdoc">判断ppa地址是否越界</div><div class="ttdef"><b>Definition:</b> ftl.c:470</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a482d5bde24295b7334c8aec815f3a1a.html">femu</a></li><li class="navelem"><a class="el" href="dir_b90b389fcfa37ae8c6e19c5ab6df3df2.html">bbssd</a></li><li class="navelem"><a class="el" href="ftl_8h.html">ftl.h</a></li>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
